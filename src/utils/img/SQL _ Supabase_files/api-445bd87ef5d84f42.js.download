(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2469],{93493:function(e,t,a){var r=a(77832),n=a(38101),s=Math.max;e.exports=function(e,t,a){var l=null==e?0:e.length;if(!l)return -1;var i=null==a?0:n(a);return i<0&&(i=s(l+i,0)),r(e,t,i)}},5707:function(e,t,a){var r=a(7642),n=1/0;e.exports=function(e){return e?(e=r(e))===n||e===-n?(e<0?-1:1)*17976931348623157e292:e==e?e:0:0===e?e:0}},38101:function(e,t,a){var r=a(5707);e.exports=function(e){var t=r(e),a=t%1;return t==t?a?t-a:t:0}},8299:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/project/[ref]/settings/api",function(){return a(58147)}])},75951:function(e,t,a){"use strict";a.d(t,{B:function(){return o},F2:function(){return d},G2:function(){return f},LZ:function(){return m},Y4:function(){return i},_J:function(){return u},hk:function(){return c},nK:function(){return l},q_:function(){return h}});var r=a(63059),n=a(99248),s=a(28702);let l=660,i=50,o=20,c={...n.S,INIT_READ_REPLICA:"INIT_READ_REPLICA",INIT_READ_REPLICA_FAILED:"INIT_READ_REPLICA_FAILED"},d={SOUTHEAST_ASIA:[103.8,1.37],NORTHEAST_ASIA:[139.42,35.41],NORTHEAST_ASIA_2:[126.98,37.56],CENTRAL_CANADA:[-73.6,45.5],WEST_US:[-121.96,37.35],EAST_US:[-78.45,38.13],WEST_EU:[-8,53],WEST_EU_2:[-.1,51],CENTRAL_EU:[8,50],SOUTH_ASIA:[72.88,19.08],OCEANIA:[151.2,-33.86],SOUTH_AMERICA:[-46.38,-23.34]},u={SOUTHEAST_ASIA:[103.8,1.37]},h=Object.keys(s.Wp).map(e=>({key:e,name:null===s.Wp||void 0===s.Wp?void 0:s.Wp[e].displayName,region:null===s.Wp||void 0===s.Wp?void 0:s.Wp[e].code,coordinates:d[e]})).filter(e=>void 0!==e.coordinates),f={[r.Vb.Requested]:"Requesting replica instance",[r.Vb.Started]:"Launching replica instance",[r.Vb.LaunchedReadReplicaInstance]:"Initiating replica setup",[r.Vb.InitiatedReadReplicaSetup]:"Downloading base backup",[r.Vb.DownloadedBaseBackup]:"Replaying WAL archives",[r.Vb.ReplayedWalArchives]:"Completing set up",[r.Vb.CompletedReadReplicaSetup]:"Completed"},m={[r.Bm.ReadReplicaInstanceLaunchFailed]:"Failed to launch replica",[r.Bm.InitiateReadReplicaSetupFailed]:"Failed to initiate replica",[r.Bm.DownloadBaseBackupFailed]:"Failed to download backup",[r.Bm.ReplayWalArchivesFailed]:"Failed to replay WAL archives",[r.Bm.CompleteReadReplicaSetupFailed]:"Failed to set up replica"}},79067:function(e,t,a){"use strict";a.d(t,{Z:function(){return p}});var r=a(52322),n=a(5632),s=a(2784),l=a(99959),i=a(34056),o=a(40654),c=a(89823),d=a(26211),u=a(3373),h=a(99248),f=a(4689);let m=(e,t,a,r)=>{var n,s,l,i,o;let c=(null==t?void 0:t.status)===h.S.COMING_UP,d="/project/".concat(e),u=null===(n=null==r?void 0:r.auth)||void 0===n||n,f=null===(s=null==r?void 0:r.edgeFunctions)||void 0===s||s,m=null===(l=null==r?void 0:r.storage)||void 0===l||l,x=null!==(i=null==r?void 0:r.warehouse)&&void 0!==i&&i,p=null!==(o=null==r?void 0:r.logDrains)&&void 0!==o&&o;return[{title:"Project Settings",items:[{name:"General",key:"general",url:"/project/".concat(e,"/settings/general"),items:[]},{name:"Infrastructure",key:"infrastructure",url:c?d:"/project/".concat(e,"/settings/infrastructure"),items:[]},...h.Qy?[{name:"Integrations",key:"integrations",url:"/project/".concat(e,"/settings/integrations"),items:[]}]:[],{name:"Add Ons",key:"addons",url:"/project/".concat(e,"/settings/addons"),items:[]},{name:"Vault",key:"vault",url:c?d:"/project/".concat(e,"/settings/vault/secrets"),items:[],label:"BETA"}]},{title:"Configuration",items:[{name:"Database",key:"database",url:c?d:"/project/".concat(e,"/settings/database"),items:[]},{name:"API",key:"api",url:c?d:"/project/".concat(e,"/settings/api"),items:[]},...h.Qy&&u?[{name:"Authentication",key:"auth",url:c?d:"/project/".concat(e,"/settings/auth"),items:[]}]:[],...h.Qy&&m?[{name:"Storage",key:"storage",url:"/project/".concat(e,"/settings/storage"),items:[]}]:[],...h.Qy&&f?[{name:"Edge Functions",key:"functions",url:"/project/".concat(e,"/settings/functions"),items:[]}]:[],...h.Qy&&x?[{name:"Warehouse",key:"warehouse",url:"/project/".concat(e,"/settings/warehouse"),items:[]}]:[],...h.Qy&&p?[{name:"Log Drains",key:"log-drains",url:"/project/".concat(e,"/settings/log-drains"),items:[]}]:[]]},{title:"Billing",items:[{name:"Subscription",key:"subscription",url:"/org/".concat(null==a?void 0:a.slug,"/billing"),items:[]},{name:"Usage",key:"usage",url:"/org/".concat(null==a?void 0:a.slug,"/usage?projectRef=").concat(e),items:[]}]}]};var x=a(75939),p=(0,u.Q)(e=>{let{title:t,children:a}=e,u=(0,n.useRouter)(),{ref:p}=(0,l.UO)(),g=(0,d.V)(),j=(0,c.l)();(0,s.useEffect)(()=>{h.Qy||u.push("/project/default")},[u]);let b=u.pathname.includes("billing")?u.pathname.split("/")[5]:u.pathname.split("/")[4],{projectAuthAll:v,projectEdgeFunctionAll:y,projectStorageAll:w,billingInvoices:N}=(0,o.N)(["project_auth:all","project_edge_function:all","project_storage:all","billing:invoices"]),S=m(p,g,j,{auth:v,edgeFunctions:y,storage:w,invoices:N,warehouse:(0,x.P)("warehouse"),logDrains:(0,x.P)("logdrains")});return(0,r.jsx)(f.Z,{isBlocking:!1,title:t||"Settings",product:"Settings",productMenu:(0,r.jsx)(i.Q,{page:b,menu:S}),children:(0,r.jsx)("main",{style:{maxHeight:"100vh"},className:"flex-1 overflow-y-auto",children:a})})})},74178:function(e,t,a){"use strict";a.d(t,{CG:function(){return m},FW:function(){return d},I7:function(){return h},Lc:function(){return p},Wv:function(){return j},_S:function(){return u},g$:function(){return x},gW:function(){return v},jX:function(){return f},q7:function(){return c},tM:function(){return g},tU:function(){return o},ur:function(){return b}});var r=a(52322),n=a(2784),s=a(54383);let l="mx-auto w-full max-w-[1200px]",i="px-6 lg:px-14 xl:px-24 2xl:px-32",o=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("header",{...n,ref:t,className:(0,s.cn)("w-full","flex-col gap-3 py-6",a)})}),c=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("h1",{ref:t,...n,className:(0,s.cn)("text-2xl",a)})}),d=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("span",{ref:t,...n,className:(0,s.cn)("text-sm text-foreground-light",a)})}),u=n.forwardRef((e,t)=>{let{className:a,bottomPadding:n,...o}=e;return(0,r.jsx)("div",{ref:t,...o,className:(0,s.cn)(l,i,n&&"pb-16",a)})}),h=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("div",{ref:t,...n,className:(0,s.cn)("w-full h-px bg-border",a)})}),f=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("div",{ref:t,...n,className:(0,s.cn)("flex flex-col gap-3 py-6","lg:grid md:grid-cols-12 lg:py-12",a)})}),m=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("div",{ref:t,...n,className:(0,s.cn)("flex flex-col gap-3","min-w-[420px]",a)})}),x=n.forwardRef((e,t)=>{let{className:a,children:n,title:l,...i}=e;return(0,r.jsxs)("div",{ref:t,...i,className:(0,s.cn)("col-span-4 xl:col-span-5 prose text-sm",a),children:[l&&(0,r.jsx)("h2",{children:l}),n]})}),p=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("div",{ref:t,...n,className:(0,s.cn)("col-span-8 xl:col-span-7","flex flex-col gap-6",a)})}),g=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("div",{ref:t,...n,className:(0,s.cn)("flex flex-col gap-3 items-center",a)})}),j=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("div",{ref:t,...n,className:(0,s.cn)("flex w-full items-center",a)})}),b=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("div",{ref:t,...n,className:(0,s.cn)("flex flex-row gap-3",a)})}),v=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("div",{ref:t,...n,className:(0,s.cn)(l,i,"my-8 flex flex-col gap-8",a)})});o.displayName="ScaffoldHeader",c.displayName="ScaffoldTitle",d.displayName="ScaffoldDescription",u.displayName="ScaffoldContainer",h.displayName="ScaffoldDivider",f.displayName="ScaffoldSection",m.displayName="ScaffoldColumn",x.displayName="ScaffoldSectionDetail",p.displayName="ScaffoldSectionContent",g.displayName="ScaffoldFilterAndContent",j.displayName="ScaffoldActionsContainer",b.displayName="ScaffoldActionsGroup",v.displayName="ScaffoldContainerLegacy"},37962:function(e,t,a){"use strict";var r=a(52322),n=a(99959),s=a(34291),l=a.n(s),i=a(45010),o=a(78232),c=a(76141),d=a(89404),u=a(39097),h=a.n(u),f=a(5632),m=a(2784),x=a(61786),p=a(32079),g=a(54383),j=a(90504),b=a(19869),v=a(2322),y=a(80435),w=a(75951),N=a(92575),S=a(89523),k=a(9109);t.Z=e=>{var t;let{variant:a="regular",additionalOptions:s=[],onSelectId:u=l()}=e,C=(0,f.useRouter)(),{ref:A}=(0,n.UO)(),[E,_]=(0,m.useState)(!1),P=(0,k.TF)(),R=P.selectedDatabaseId,{data:I,isLoading:Z,isSuccess:z}=(0,N.bN)({projectRef:A}),T=null!=I?I:[],F=T.sort((e,t)=>e.inserted_at>t.inserted_at?1:0).sort(e=>e.identifier===A?-1:0),L=T.find(e=>e.identifier===R),D=(0,S.f)(null!==(t=null==L?void 0:L.region)&&void 0!==t?t:""),W=(0,S.U)(null!=R?R:""),U=s.find(e=>e.id===R);return(0,r.jsxs)(x.J2,{open:E,onOpenChange:_,modal:!1,children:[(0,r.jsx)(x.xo,{asChild:!0,children:(0,r.jsx)("div",{className:"flex items-center space-x-2 cursor-pointer",children:(0,r.jsxs)(p.z,{type:"default",className:(0,g.cn)("pr-2","connected-on-right"===a&&"rounded-r-none","connected-on-left"===a&&"rounded-l-none border-l-0","connected-on-both"===a&&"rounded-none border-x-0"),icon:Z&&(0,r.jsx)(i.Z,{className:"animate-spin"}),iconRight:(0,r.jsx)(o.Z,{className:"text-foreground-light",strokeWidth:2,size:12}),children:[(0,r.jsx)("span",{className:"text-foreground-muted mr-1",children:"source"}),U?(0,r.jsx)("span",{children:U.name}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"capitalize",children:Z||(null==L?void 0:L.identifier)===A?"Primary database":"Read replica"})," ",z&&(null==L?void 0:L.identifier)!==A&&(0,r.jsxs)("span",{children:["(",D," - ",W,")"]})]})]})})}),(0,r.jsx)(x.yk,{className:"p-0 w-64",side:"bottom",align:"end",children:(0,r.jsx)(j.mY,{children:(0,r.jsxs)(j.e8,{children:[s.length>0&&(0,r.jsx)(j.fu,{className:"border-b",children:s.map(e=>(0,r.jsx)(j.di,{value:e.id,className:"cursor-pointer w-full",onSelect:()=>{P.setSelectedDatabaseId(e.id),_(!1),u(e.id)},onClick:()=>{P.setSelectedDatabaseId(e.id),_(!1),u(e.id)},children:(0,r.jsxs)("div",{className:"w-full flex items-center justify-between",children:[(0,r.jsx)("p",{children:e.name}),e.id===R&&(0,r.jsx)(c.Z,{size:14})]})},e.id))}),(0,r.jsx)(j.fu,{children:(0,r.jsx)(b.x,{className:(T||[]).length>7?"h-[210px]":"",children:null==F?void 0:F.map(e=>{let t=(0,S.f)(e.region),a=(0,S.U)(e.identifier);if("ACTIVE_HEALTHY"!==e.status){let n=[w.hk.INIT_READ_REPLICA,w.hk.COMING_UP].includes(e.status)?"coming up":"not healthy";return(0,r.jsxs)(v.u,{children:[(0,r.jsx)(v.aJ,{asChild:!0,children:(0,r.jsx)("div",{className:"px-2 py-1.5 w-full flex items-center justify-between",children:(0,r.jsxs)("p",{className:"text-xs text-foreground-lighter",children:["Read replica (",t," - ",a,")"]})})}),(0,r.jsx)(v._v,{side:"right",className:"w-80",children:(0,r.jsx)(y.U,{className:"text-xs text-foreground",content:"Replica unable to accept requests as its ".concat(n,". [View infrastructure settings](/project/").concat(A,"/settings/infrastructure) for more information.")})})]},e.identifier)}return(0,r.jsx)(j.di,{value:e.identifier,className:"cursor-pointer w-full",onSelect:()=>{P.setSelectedDatabaseId(e.identifier),_(!1),u(e.identifier)},onClick:()=>{P.setSelectedDatabaseId(e.identifier),_(!1),u(e.identifier)},children:(0,r.jsxs)("div",{className:"w-full flex items-center justify-between",children:[(0,r.jsx)("p",{children:e.identifier===A?"Primary database":"Read replica (".concat(t," - ").concat(a,")")}),e.identifier===R&&(0,r.jsx)(c.Z,{size:16})]})},e.identifier)})})}),(0,r.jsx)(j.fu,{className:"border-t",children:(0,r.jsx)(j.di,{className:"cursor-pointer w-full",onSelect:()=>{_(!1),C.push("/project/".concat(A,"/settings/infrastructure"))},onClick:()=>_(!1),children:(0,r.jsxs)(h(),{href:"/project/".concat(A,"/settings/infrastructure"),onClick:()=>_(!1),className:"w-full flex items-center gap-2",children:[(0,r.jsx)(d.Z,{size:14,strokeWidth:1.5}),(0,r.jsx)("p",{children:"Create a new read replica"})]})})})]})})})]})}},6554:function(e,t,a){"use strict";a.d(t,{i:function(){return s}});var r=a(52322),n=a(32079);let s=e=>{let{form:t,hasChanges:a,handleReset:s,helper:l,disabled:i=!1,isSubmitting:o,submitText:c="Save"}=e,d=o||i||!a&&void 0!==a;return(0,r.jsxs)("div",{className:["flex w-full items-center gap-2",l?"justify-between":"justify-end"].join(" "),children:[l&&(0,r.jsx)("span",{className:"text-sm text-foreground-lighter",children:l}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(n.z,{disabled:d,type:"default",htmlType:"reset",onClick:()=>s(),children:"Cancel"}),(0,r.jsx)(n.z,{form:t,type:"primary",htmlType:"submit",disabled:d,loading:o,children:c})]})]})}},67873:function(e,t,a){"use strict";a.d(t,{DO:function(){return c},Tq:function(){return i},by:function(){return l},iL:function(){return o},m9:function(){return d}});var r=a(52322),n=a(2784),s=a(54383);let l=e=>{let{children:t,header:a,footer:n}=e;return(0,r.jsxs)(i,{children:[a&&(0,r.jsx)(o,{children:a}),(0,r.jsx)(c,{className:"divide-y",children:t}),n&&(0,r.jsx)(d,{children:n})]})},i=(0,n.forwardRef)((e,t)=>{let{children:a,...n}=e;return(0,r.jsx)("div",{ref:t,...n,className:(0,s.cn)("bg-surface-100 border overflow-hidden rounded-md shadow",n.className),children:a})});i.displayName=i.displayName;let o=(0,n.forwardRef)((e,t)=>{let{children:a,...n}=e;return(0,r.jsx)("div",{ref:t,...n,className:(0,s.cn)("border-default border-b px-8 py-4",n.className),children:a})});o.displayName=o.displayName;let c=(0,n.forwardRef)((e,t)=>{let{children:a,...n}=e;return(0,r.jsx)("div",{ref:t,...n,className:(0,s.cn)("divide-border flex flex-col gap-0",n.className),children:a})});c.displayName=c.displayName;let d=(0,n.forwardRef)((e,t)=>{let{children:a,...n}=e;return(0,r.jsx)("div",{ref:t,...n,className:(0,s.cn)("border-t",n.className),children:a})});d.displayName=d.displayName},61531:function(e,t,a){"use strict";var r=a(52322),n=a(99064),s=a(25097),l=a(17172),i=a(39097),o=a.n(i),c=a(2784),d=a(32079);t.Z=e=>{let{icon:t,title:a,description:i,url:u,urlLabel:h="Read more",defaultVisibility:f=!1,hideCollapse:m=!1,button:x,className:p="",block:g=!1}=e,[j,b]=(0,c.useState)(f);return(0,r.jsx)("div",{className:"".concat(g?"block w-full":"","\n      block w-full rounded border bg-surface-200 py-3 ").concat(p),children:(0,r.jsxs)("div",{className:"flex flex-col px-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex w-full space-x-3 items-center",children:[t&&(0,r.jsx)("span",{className:"text-foreground-lighter",children:t}),(0,r.jsx)("div",{className:"flex-grow",children:(0,r.jsx)("h5",{className:"text-sm text-foreground",children:a})})]}),i&&!m?(0,r.jsx)("div",{className:"cursor-pointer text-foreground-lighter",onClick:()=>b(!j),children:j?(0,r.jsx)(n.Z,{size:14,strokeWidth:1.5}):(0,r.jsx)(s.Z,{size:14,strokeWidth:1.5})}):null]}),(i||u||x)&&(0,r.jsxs)("div",{className:"flex flex-col space-y-3 overflow-hidden transition-all ".concat(j?"mt-3":""),style:{maxHeight:j?500:0},children:[(0,r.jsx)("div",{className:"text-foreground-light text-sm",children:i}),u&&(0,r.jsx)("div",{children:(0,r.jsx)(d.z,{asChild:!0,type:"default",icon:(0,r.jsx)(l.Z,{}),children:(0,r.jsx)(o(),{href:u,target:"_blank",rel:"noreferrer",children:h})})}),x&&(0,r.jsx)("div",{children:x})]})]})})}},34056:function(e,t,a){"use strict";a.d(t,{Q:function(){return d}});var r=a(52322),n=a(3085),s=a(81076),l=a(39097),i=a.n(l),o=a(32079),c=e=>{let{name:t="",isActive:a,isExternal:l,icon:c,rightIcon:d,url:u="",target:h="_self",onClick:f,textClassName:m="",hoverText:x="",label:p}=e,g=(0,r.jsx)(n.ZP.Item,{icon:c,rounded:!0,active:a,onClick:f,children:(0,r.jsxs)("div",{className:"flex w-full items-center justify-between gap-1",children:[(0,r.jsxs)("div",{title:x||("string"==typeof t?t:""),className:"flex items-center gap-2 truncate w-full "+m,children:[(0,r.jsxs)("span",{className:"truncate",children:[t," "]}),void 0!==p&&(0,r.jsx)(s.C,{variant:"warning",children:p})]}),d&&(0,r.jsx)("div",{children:d})]})});return u?l?(0,r.jsx)(o.z,{asChild:!0,block:!0,className:"!justify-start",type:"text",size:"small",icon:c,children:(0,r.jsx)(i(),{href:u,target:"_blank",rel:"noreferrer",children:t})}):(0,r.jsx)(i(),{href:u,className:"block",target:h,children:g}):g},d=e=>{let{page:t,menu:a}=e;return(0,r.jsx)("div",{className:"flex flex-col space-y-8 overflow-y-auto",children:(0,r.jsx)(n.ZP,{type:"pills",children:a.map((e,l)=>(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"my-6 space-y-8",children:(0,r.jsxs)("div",{className:"mx-3",children:[(0,r.jsx)(n.ZP.Group,{title:e.title?(0,r.jsxs)("div",{className:"flex flex-col space-y-2 uppercase font-mono",children:[(0,r.jsx)("span",{children:e.title}),e.isPreview&&(0,r.jsx)(s.C,{variant:"warning",children:"Not production ready"})]}):null}),(0,r.jsx)("div",{children:e.items.map(e=>(0,r.jsx)(c,{url:e.url,name:e.name,icon:e.icon,rightIcon:e.rightIcon,isActive:t===e.key,isExternal:e.isExternal,target:e.isExternal?"_blank":"_self",label:e.label},e.key))})]})}),l!==a.length-1&&(0,r.jsx)("div",{className:"h-px w-full bg-border-overlay"})]},e.key||e.title))})})}},3937:function(e,t,a){"use strict";a.d(t,{s:function(){return o}});var r=a(36492),n=a(88354),s=a(99248),l=a(45101);async function i(e,t){let{projectRef:a}=e;if(!a)throw Error("projectRef is required");let r=await (0,n.U2)("".concat(s.T5,"/projects/").concat(a,"/config/postgrest"),{signal:t});if(r.error)throw r.error;return r}let o=function(e){let{projectRef:t}=e,{enabled:a=!0,...n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,r.a)(l.U.postgrest(t),e=>{let{signal:a}=e;return i({projectRef:t},a)},{enabled:a&&void 0!==t,...n})}},72081:function(e,t,a){"use strict";a.d(t,{H:function(){return i}});var r=a(36492),n=a(31696),s=a(24368);async function l(e,t){let{projectRef:a,connectionString:r}=e;if(!a)throw Error("projectRef is required");let s=new Headers;r&&s.set("x-connection-encrypted",r);let{data:l,error:i}=await (0,n.U2)("/platform/pg-meta/{ref}/extensions",{params:{header:{"x-connection-encrypted":r},path:{ref:a}},headers:s,signal:t});return i&&(0,n.S3)(i),l}let i=function(e){let{projectRef:t,connectionString:a}=e,{enabled:n=!0,...i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,r.a)(s.o.list(t),e=>{let{signal:r}=e;return l({projectRef:t,connectionString:a},r)},{enabled:n&&void 0!==t,...i})}},24368:function(e,t,a){"use strict";a.d(t,{o:function(){return r}});let r={list:e=>["projects",e,"database-extensions"]}},56302:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r={list:e=>["project",e,"replicas"],statuses:e=>["project",e,"replicas-statuses"],loadBalancers:e=>["project",e,"load-balancers"]}},54547:function(e,t,a){"use strict";a.d(t,{j:function(){return i}});var r=a(36492),n=a(31696),s=a(56302);async function l(e,t){let{projectRef:a}=e;if(!a)throw Error("Project ref is required");let{data:r,error:s}=await (0,n.U2)("/platform/projects/{ref}/load-balancers",{params:{path:{ref:a}},signal:t});return s&&(0,n.S3)(s),r}let i=function(e){let{projectRef:t}=e,{enabled:a=!0,...n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,r.a)(s.Z.loadBalancers(t),e=>{let{signal:a}=e;return l({projectRef:t},a)},{enabled:a&&void 0!==t,...n})}},92575:function(e,t,a){"use strict";a.d(t,{Zs:function(){return i},bN:function(){return d},l_:function(){return o}});var r=a(36492),n=a(99959),s=a(31696),l=a(56302);let i=2,o=5;async function c(e,t){let{projectRef:a}=e;if(!a)throw Error("Project ref is required");let{data:r,error:n}=await (0,s.U2)("/platform/projects/{ref}/databases",{params:{path:{ref:a}},signal:t});return n&&(0,s.S3)(n),r}let d=function(e){let{projectRef:t}=e,{enabled:a=!0,...s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,r.a)(l.Z.list(t),e=>{let{signal:a}=e;return c({projectRef:t},a)},{enabled:a&&n.Qy&&void 0!==t,...s})}},89523:function(e,t,a){"use strict";a.d(t,{U:function(){return l},f:function(){return i}});var r=a(75951),n=a(56974),s=a.n(n);let l=e=>{var t;return s()(null!==(t=e.split("-"))&&void 0!==t?t:[])},i=e=>{var t,a;return null===(t=s()(null===(a=r.q_.find(t=>t.region===e))||void 0===a?void 0:a.name.split("(")))||void 0===t?void 0:t.split(")")[0]}},58147:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return eK}});var r=a(52322),n=a(63059),s=a(85945),l=a(52006),i=a(2784),o=a(56958),c=a(99959),d=a(27570),u=a(37962),h=a(64306),f=a(41582),m=a(41679),x=a(22532),p=a(45101),g=a(53535),j=a(22721),b=a(54547),v=a(92575),y=a(99248),w=a(9109),N=a(750),S=a(81076);let k={[n.$X.APIServicesConfigurationUpdateFailed]:"failed to update configuration for API services",[n.$X.APIServicesRestartFailed]:"failed to restart API services",[n.$X.DatabaseAdminAPIConfigurationUpdateFailed]:"failed to update configuration for database admin API",[n.$X.PostgreSQLRestartFailed]:"failed to restart PostgreSQL service",[n.$X.SupabaseAPIKeyUpdateFailed]:"failed to update Supabase API key",[n.$X.APIGatewayUpdateFailed]:"failed to update API Gateway"},C={[n.GJ.RestartedAPIServices]:"restarted API services",[n.GJ.RestartedPostgreSQL]:"restarted PostgreSQL service",[n.GJ.Started]:"started updating",[n.GJ.UpdatedAPIServicesConfiguration]:"updated configuration for API services",[n.GJ.UpdatedDatabaseAdminAPIConfiguration]:"updated configuration for database admin API",[n.GJ.UpdatedAPIGatewayConfiguration]:"updated configuration for API Gateway"};var A=a(59491),E=a(45010),_=a(78232),P=a(44446);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let R=(0,a(46145).Z)("PenTool",[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);var I=a(44142),Z=a(48188),z=a(31634),T=a(44778),F=a(48228),L=a(88354);async function D(e){let{projectRef:t,jwtSecret:a,changeTrackingId:r}=e,n=await (0,L.r$)("".concat(y.T5,"/projects/").concat(t,"/config/secrets"),{jwt_secret:a,change_tracking_id:r});if(n.error)throw n.error;return n}let W=function(){let{onSuccess:e,onError:t,...a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=(0,s.NL)();return(0,F.D)(e=>D(e),{async onSuccess(t,a,n){let{projectRef:s}=a;await r.invalidateQueries(p.U.jwtSecretUpdatingStatus(s)),await (null==e?void 0:e(t,a,n))},async onError(e,a,r){void 0===t?o.Am.error("Failed to submit JWT secret update request: ".concat(e.message)):t(e,a,r)},...a})};var U=a(3937),V=a(87175),q=a(82955),O=a(32079),J=a(34503),M=a(48869),B=a(83690),G=a(95492),Q=a(37970),H=a(74138),X=()=>{let{ref:e}=(0,c.UO)(),[t,a]=(0,i.useState)(""),[s,d]=(0,i.useState)(!1),[u,f]=(0,i.useState)(!1),[m,p]=(0,i.useState)(!1),g=(0,V.Xo)(A.KA.READ,"field.jwt_secret"),j=(0,V.Xo)(A.KA.INFRA_EXECUTE,"queue_job.projects.update_jwt"),{data:b}=(0,x.t)({projectRef:e}),{data:v,isError:y}=(0,U.s)({projectRef:e}),{mutateAsync:w,isLoading:S}=W(),{Failed:F,Updated:L,Updating:D}=n.JwtSecretUpdateStatus,X=(null==b?void 0:b.jwtSecretUpdateStatus)===F,$=(null==b?void 0:b.jwtSecretUpdateStatus)===void 0||(null==b?void 0:b.jwtSecretUpdateStatus)===L,Y=(null==b?void 0:b.jwtSecretUpdateStatus)===D,K=k[null==b?void 0:b.jwtSecretUpdateError],ee=C[null==b?void 0:b.jwtSecretUpdateProgress];async function et(t,a){if(!e)return console.error("Project ref is required");let r=(0,q.k$)();try{await w({projectRef:e,jwtSecret:t,changeTrackingId:r}),a(!1),(0,o.Am)("Successfully submitted JWT secret update request. Please wait while your project is updated.")}catch(e){}}return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(h.Z,{title:(0,r.jsx)("h5",{className:"mb-0",children:"JWT Settings"}),children:(0,r.jsx)(h.Z.Content,{className:"space-y-6 border-t border-panel-border-interior-light [[data-theme*=dark]_&]:border-panel-border-interior-dark",children:y?(0,r.jsxs)("div",{className:"flex items-center justify-center py-8 space-x-2",children:[(0,r.jsx)(l.Z,{size:16,strokeWidth:1.5}),(0,r.jsx)("p",{className:"text-sm text-foreground-light",children:"Failed to retrieve JWT settings"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(N.Z,{label:"JWT Secret",readOnly:!0,copy:g&&$,reveal:g&&$,disabled:!0,value:g?X?"JWT secret update failed":Y?"Updating JWT secret...":(null==v?void 0:v.jwt_secret)||"":"You need additional permissions to view the JWT secret",className:"input-mono",descriptionText:"Used to decode your JWTs. You can also use this to mint your own JWTs.",layout:"horizontal"}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)("div",{className:"p-3 px-6 border rounded-md shadow-sm bg-studio",children:Y?(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(E.Z,{className:"animate-spin",size:14}),(0,r.jsxs)("p",{className:"text-sm",children:["Updating JWT secret: ",ee]})]}):(0,r.jsx)("div",{className:"w-full space-y-2",children:(0,r.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,r.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,r.jsx)("p",{className:"text-sm",children:"Generate a new JWT secret"}),(0,r.jsx)("p",{className:"text-sm opacity-50",children:"A random secret will be created, or you can create your own."})]}),(0,r.jsx)("div",{className:"flex flex-col items-end",children:Y?(0,r.jsx)(O.z,{loading:!0,type:"secondary",children:"Updating JWT secret..."}):j?(0,r.jsxs)(J.h_,{children:[(0,r.jsx)(J.$F,{asChild:!0,children:(0,r.jsx)(O.z,{type:"default",iconRight:(0,r.jsx)(_.Z,{size:14}),children:(0,r.jsx)("span",{children:"Generate a new secret"})})}),(0,r.jsxs)(J.AW,{align:"end",side:"bottom",children:[(0,r.jsxs)(J.Xi,{className:"space-x-2",onClick:()=>p(!0),children:[(0,r.jsx)(P.Z,{size:16}),(0,r.jsx)("p",{children:"Generate a random secret"})]}),(0,r.jsx)(J.VD,{}),(0,r.jsxs)(J.Xi,{className:"space-x-2",onClick:()=>f(!0),children:[(0,r.jsx)(R,{size:16}),(0,r.jsx)("p",{children:"Create my own secret"})]})]})]}):(0,r.jsx)(T.u,{disabled:!0,type:"default",iconRight:(0,r.jsx)(_.Z,{size:14}),tooltip:{content:{side:"bottom",text:"You need additional permissions to generate a new JWT secret"}},children:"Generate a new secret"})})]})})}),X?(0,r.jsxs)(M.b,{withIcon:!0,variant:"warning",title:"Failed to update JWT secret",children:["Please try again. If the failures persist, please contact Supabase support with the following details: ",(0,r.jsx)("br",{}),"Change tracking ID: ",null==b?void 0:b.changeTrackingId," ",(0,r.jsx)("br",{}),"Error message: ",K]}):null]})]})})}),(0,r.jsx)(H.Z,{variant:"destructive",size:"medium",visible:m,title:"Confirm to generate a new JWT secret",confirmLabel:"Generate new secret",confirmLabelLoading:"Generating",onCancel:()=>p(!1),onConfirm:()=>et("ROLL",p),alert:{title:"This will invalidate all existing API keys",description:(0,r.jsxs)(r.Fragment,{children:["Generating a new JWT secret will invalidate ",(0,r.jsx)("u",{className:"text-foreground",children:"all"})," of your API keys, including your ",(0,r.jsx)("code",{className:"text-xs",children:"service_role"})," and"," ",(0,r.jsx)("code",{className:"text-xs",children:"anon"})," keys. Your project will also be restarted during this process, which will terminate any existing connections. You may receive API errors for up to 2 minutes while the new secret is deployed."]})},children:(0,r.jsx)("p",{className:"text-foreground text-sm",children:"This action cannot be undone and the old JWT secret will be lost. All existing API keys will be invalidated, and any open connections will be terminated."})}),(0,r.jsx)(B.Z,{header:"Create a custom JWT secret",visible:u,size:"medium",variant:"danger",loading:S,customFooter:(0,r.jsxs)("div",{className:"space-x-2",children:[(0,r.jsx)(O.z,{type:"default",onClick:()=>f(!1),children:"Cancel"}),(0,r.jsx)(O.z,{type:"primary",disabled:t.length<32||t.includes("@")||t.includes("$"),loading:S,onClick:()=>et(t,f),children:"Apply new JWT secret"})]}),children:(0,r.jsxs)(B.Z.Content,{className:"space-y-2",children:[(0,r.jsx)("p",{className:"text-sm text-foreground-light",children:"Create a custom JWT secret. Make sure it is a strong combination of characters that cannot be guessed easily."}),(0,r.jsxs)(G.bZ,{variant:"warning",children:[(0,r.jsx)(Q.aN,{}),(0,r.jsx)(G.Cd,{children:"This will invalidate all existing API keys"}),(0,r.jsxs)(G.X,{children:["Generating a new JWT secret will invalidate ",(0,r.jsx)("u",{className:"text-foreground",children:"all"})," of your API keys, including your ",(0,r.jsx)("code",{className:"text-xs",children:"service_role"})," and"," ",(0,r.jsx)("code",{className:"text-xs",children:"anon"})," keys. Your project will also be restarted during this process, which will terminate any existing connections."]})]}),(0,r.jsx)(N.Z,{onChange:e=>a(e.target.value),value:t,icon:(0,r.jsx)(I.Z,{}),type:s?"text":"password",className:"w-full text-left",label:"Custom JWT secret",descriptionText:"Minimally 32 characters long, '@' and '$' are not allowed.",actions:(0,r.jsx)("div",{className:"flex items-center justify-center mr-1",children:(0,r.jsx)(O.z,{type:"default",icon:s?(0,r.jsx)(Z.Z,{}):(0,r.jsx)(z.Z,{}),onClick:()=>d(!s)})})})]})})]})},$=a(88883),Y=a(93493),K=a.n(Y),ee=a(39097),et=a.n(ee),ea=a(63955),er=a(30195),en=a(6554),es=a(67873);async function el(e){let{projectRef:t,dbSchema:a,maxRows:r,dbExtraSearchPath:n,dbPool:s}=e,l=await (0,L.r$)("".concat(y.T5,"/projects/").concat(t,"/config/postgrest"),{db_schema:a,max_rows:r,db_extra_search_path:n,db_pool:s});if(l.error)throw l.error;return l}let ei=function(){let{onSuccess:e,onError:t,...a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=(0,s.NL)();return(0,F.D)(e=>el(e),{async onSuccess(t,a,n){let{projectRef:s}=a;r.invalidateQueries(p.U.postgrest(s)),await (null==e?void 0:e(t,a,n))},async onError(e,a,r){void 0===t?o.Am.error("Failed to update Postgrest config: ".concat(e.message)):t(e,a,r)},...a})};var eo=a(72081),ec=a(49650),ed=a(17172),eu=a(16826),eh=a(22574),ef=a(71550),em=a(93705),ex=a(95392),ep=a(55283),eg=a(54383);function ej(e){let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,eg.cn)("animate-pulse rounded-md bg-muted",t),...a})}var eb=a(42070),ev=a(87668),ey=a(90504),ew=a(49169),eN=a(8609),eS=a(76141),ek=a(75109),eC=a(10929);(0,eC.j)("",{variants:{size:{...ek.Ld}},defaultVariants:{size:ek.Rc}});let eA=(0,i.createContext)(null),eE=()=>{let e=(0,i.useContext)(eA);if(!e)throw Error("useMultiSelect must be used within MultiSelectProvider");return e},e_=e=>{let{values:t,onValuesChange:a,loop:n=!1,className:s,children:l,dir:o,size:c="small",disabled:d,...u}=e,[h,f]=(0,i.useState)(""),[m,x]=(0,i.useState)(!1),[p,g]=(0,i.useState)(-1),j=(0,i.useCallback)(e=>{t.includes(e)?a(t.filter(t=>t!==e)):a([...t,e])},[t]),b=(0,i.useCallback)(e=>{let r=()=>{let e=p+1;g(e>t.length-1?n?0:-1:e)},s=()=>{let e=p-1;g(e<0?t.length-1:e)};("Backspace"===e.key||"Delete"===e.key)&&t.length>0?0===h.length&&(-1!==p&&p<t.length?(a(t.filter(e=>e!==t[p])),g(p-1<0?0:p-1)):a(t.filter(e=>e!==t[t.length-1]))):"Enter"===e.key?x(!0):"Escape"===e.key?-1!==p?g(-1):x(!1):"rtl"===o?"ArrowRight"===e.key?s():"ArrowLeft"===e.key&&(-1!==p||n)&&r():"ArrowLeft"===e.key?s():"ArrowRight"===e.key&&(-1!==p||n)&&r()},[t,h,p,n]);return(0,r.jsx)(eA.Provider,{value:{value:t,onValueChange:j,open:m,setOpen:x,inputValue:h,setInputValue:f,activeIndex:p,setActiveIndex:g,size:c||"small",disabled:d},children:(0,r.jsx)(ew.mY,{onKeyDown:b,className:(0,eg.cn)("relative overflow-visible bg-transparent flex flex-col",s),dir:o,...u,children:l})})},eP=(0,eC.j)("\n  gap-2\n  w-content \n  my-[3px] \n  bg-overlay dark:bg-surface-300\n  border border-control\n  bg-opacity-100\n  rounded-lg \n  items-center \n  flex text-foreground-light\n  border\n  ",{variants:{size:{...ek.rb},active:{true:"ring-2 ring-muted-foreground",false:""}},defaultVariants:{size:ek.Rc}}),eR=(0,i.forwardRef)((e,t)=>{let{className:a,children:n,...s}=e,{value:l,onValueChange:o,activeIndex:c,size:d,disabled:u}=eE(),h=(0,i.useCallback)(e=>{e.preventDefault(),e.stopPropagation()},[]);return(0,r.jsxs)("div",{ref:t,className:(0,eg.cn)("flex flex-wrap gap-1 border border-control bg-foreground/[.026] rounded-lg px-1",u&&"cursor-not-allowed opacity-50",a),...s,children:[l.map((e,t)=>(0,r.jsxs)("div",{className:(0,eg.cn)(eP({size:d,active:c===t})),children:[(0,r.jsx)("span",{children:e}),(0,r.jsxs)("button",{"aria-label":"Remove ".concat(e," option"),"aria-roledescription":"button to remove option",type:"button",onMouseDown:h,onClick:()=>o(e),children:[(0,r.jsxs)("span",{className:"sr-only",children:["Remove ",e," option"]}),(0,r.jsx)(eN.Z,{className:"transition-colors h-3 w-3 text-foreground-muted hover:text-destructive",strokeWidth:3})]})]},e)),n]})});eR.displayName="MultiSelectorTrigger";let eI=(0,eC.j)("bg-control border",{variants:{size:{...ek.Ld}},defaultVariants:{size:ek.Rc}}),eZ=(0,i.forwardRef)((e,t)=>{let{className:a,...n}=e,{setOpen:s,inputValue:l,setInputValue:i,activeIndex:o,setActiveIndex:c,size:d,disabled:u}=eE();return(0,r.jsx)(ew.sZ,{...n,ref:t,value:l,onValueChange:-1===o?i:void 0,onBlur:()=>s(!1),onFocus:()=>s(!0),onClick:()=>c(-1),disabled:u,className:(0,eg.cn)(eI({size:d}),"text-sm bg-transparent border-none outline-none placeholder:text-foreground-muted flex-1",a,-1!==o&&"caret-transparent")})});eZ.displayName="MultiSelectorInput";let ez=(0,i.forwardRef)((e,t)=>{let{children:a}=e,{open:n}=eE();return(0,r.jsx)("div",{ref:t,className:"relative",children:n&&a})});ez.displayName="MultiSelectorContent";let eT=(0,i.forwardRef)((e,t)=>{let{className:a,children:n}=e;return(0,r.jsxs)(ey.e8,{ref:t,className:(0,eg.cn)("p-2 flex flex-col gap-2 rounded-md scrollbar-thin scrollbar-track-transparent transition-colors scrollbar-thumb-muted-foreground dark:scrollbar-thumb-muted scrollbar-thumb-rounded-lg w-full absolute bg-overlay shadow-md z-10 border border-overlay top-1",a),children:[n,(0,r.jsx)(ey.rb,{children:(0,r.jsx)("span",{className:"text-foreground-muted",children:"No results found"})})]})});eT.displayName="MultiSelectorList";let eF=(0,i.forwardRef)((e,t)=>{let{className:a,value:n,children:s,...l}=e,{value:o,onValueChange:c,setInputValue:d,size:u}=eE(),h=(0,i.useCallback)(e=>{e.preventDefault(),e.stopPropagation()},[]),f=o.includes(n);return(0,r.jsxs)(ey.di,{ref:t,...l,onSelect:()=>{c(n),d("")},className:(0,eg.cn)("relative","text-foreground-light","hover:text-foreground","rounded-md cursor-pointer px-2 py-1 transition-colors flex justify-between",u&&ek.NO.text[u],a,f&&"cursor-default",l.disabled&&"opacity-75 cursor-not-allowed"),onMouseDown:h,children:[(0,r.jsx)("div",{className:(0,eg.cn)(f&&"opacity-50"),children:s}),f&&(0,r.jsx)("div",{className:"w-5 h-5 bg-foreground left-2 rounded-full flex items-center justify-center",children:(0,r.jsx)(eS.Z,{className:"h-3 w-3 text-background",strokeWidth:5})})]})});eF.displayName="MultiSelectorItem";var eL=a(61531),eD=a(31696),eW=a(18592),eU=a(18545);async function eV(e){let{projectRef:t,connectionString:a,existingPostgrestConfig:r}=e;await (0,eW.Rj)({projectRef:t,connectionString:a,sql:"\ncreate schema if not exists api;\ngrant usage on schema api to anon, authenticated;\n  ".trim()});let{db_extra_search_path:n,db_pool:s,db_schema:l,max_rows:i}=r,{error:o}=await (0,eD.r$)("/platform/projects/{ref}/config/postgrest",{params:{path:{ref:t}},body:{db_pool:s,max_rows:i,db_extra_search_path:n,db_schema:"api, ".concat(l)}});return o&&(0,eD.S3)(o),!0}let eq=function(){let{onSuccess:e,onError:t,...a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=(0,s.NL)();return(0,F.D)(e=>eV(e),{async onSuccess(t,a,n){let{projectRef:s}=a;await Promise.all([r.invalidateQueries(eU.M.query(s,["schemas","list"])),r.invalidateQueries(p.U.postgrest(s))]),await (null==e?void 0:e(t,a,n))},async onError(e,a,r){void 0===t?o.Am.error("Failed to create and expose API schema: ".concat(e.message)):t(e,a,r)},...a})};var eO=a(26211),eJ=a(41909),eM=a(58898);let eB=e=>{var t;let{visible:a,onClose:n}=e,s=(0,eO.V)(),{data:l}=(0,ec.Q)({projectRef:null==s?void 0:s.ref,connectionString:null==s?void 0:s.connectionString}),{data:i}=(0,U.s)({projectRef:null==s?void 0:s.ref}),c=(null!=l?l:[]).find(e=>"api"===e.name),d=null!==(t=null==i?void 0:i.db_schema.split(",").map(e=>e.trim()))&&void 0!==t?t:[],u=d.includes("api"),h=d.includes("public"),{mutate:f,isLoading:m}=eq({onSuccess:()=>{o.Am.success("Successfully created api schema and exposed via Data API")}}),{mutate:x,isLoading:p}=ei({onSuccess:()=>{o.Am.success("Success removed public schema from exposed schemas")}});return(0,r.jsx)(eJ.Vq,{open:a,onOpenChange:n,children:(0,r.jsxs)(eJ.cZ,{size:"large",children:[(0,r.jsxs)(eJ.fK,{children:[(0,r.jsx)(eJ.$N,{children:"Switch the default API schema"}),(0,r.jsxs)(eJ.Be,{children:["Expose a custom schema instead of the"," ",(0,r.jsx)("code",{className:"text-xs text-foreground",children:"public"})," schema"]})]}),(0,r.jsx)(eJ.P3,{}),(0,r.jsxs)(eJ.VO,{className:"text-sm text-foreground-light",children:[(0,r.jsxs)("p",{children:["By default, the ",(0,r.jsx)("code",{className:"text-xs text-foreground",children:"public"})," schema is used to generate API routes. In some cases, it's better to use a custom schema. This is important if you use tools that generate tables in the"," ",(0,r.jsx)("code",{className:"text-xs text-foreground",children:"public"})," schema to"," ",(0,r.jsx)("span",{className:"text-brand",children:"prevent accidental exposure of data"}),"."]}),(0,r.jsx)(O.z,{asChild:!0,type:"default",icon:(0,r.jsx)(ed.Z,{}),className:"w-min mt-4",children:(0,r.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://supabase.com/docs/guides/database/hardening-data-api",children:"Documentation"})})]}),(0,r.jsx)(eJ.P3,{}),(0,r.jsxs)(ep.zF,{children:[(0,r.jsxs)(ep.wy,{className:"py-4 px-5 w-full flex items-center justify-between text-sm",children:[(0,r.jsxs)("p",{children:["1. Create a custom ",(0,r.jsx)("code",{className:"text-xs text-foreground",children:"api"})," schema and expose it"]}),c&&u?(0,r.jsx)(eS.Z,{size:16,className:"text-brand"}):(0,r.jsx)(_.Z,{size:16,className:"transition data-open-parent:rotate-180 data-closed-parent:rotate-0"})]}),(0,r.jsxs)(ep.Fw,{className:"text-sm text-foreground-light flex flex-col gap-y-4",children:[(0,r.jsxs)("p",{className:"mx-5",children:["Click the button below to create a new schema named"," ",(0,r.jsx)("code",{className:"text-xs text-foreground",children:"api"})," and grant the"," ",(0,r.jsx)("code",{className:"text-xs text-foreground",children:"anon"})," and"," ",(0,r.jsx)("code",{className:"text-xs text-foreground",children:"authenticated"})," roles usage privileges on this schema. This schema will thereafter also be exposed to the Data API."]}),(0,r.jsx)("div",{className:"px-5",children:(0,r.jsx)(eL.Z,{title:"How is the schema created?",description:(0,r.jsxs)("div",{className:"flex flex-col gap-y-2",children:[(0,r.jsxs)("p",{children:["The following query will be run to create the"," ",(0,r.jsx)("code",{className:"text-xs text-foreground",children:"api"})," schema , as well as to grant the necessary privileges to the respective roles"]}),(0,r.jsx)(eM.d,{language:"sql",className:"p-1 language-bash prose dark:prose-dark max-w-[68.3ch]",children:"create schema if not exists api;\ngrant usage on schema api to anon, authenticated;"})]})})}),(0,r.jsx)(T.u,{type:"primary",className:"w-min mx-5",onClick:()=>void 0===s?console.error("Project is required"):void 0===i?console.error("Postgrest config is required"):void f({projectRef:null==s?void 0:s.ref,connectionString:null==s?void 0:s.connectionString,existingPostgrestConfig:{max_rows:i.max_rows,db_pool:i.db_pool,db_schema:i.db_schema,db_extra_search_path:null==i?void 0:i.db_extra_search_path}}),disabled:c&&u,loading:m,tooltip:{content:{side:"right",text:"Schema has already been created and exposed"}},children:"Create and expose schema to Data API"}),(0,r.jsxs)("div",{className:"flex flex-col gap-y-4 px-5 pb-4",children:[(0,r.jsxs)("p",{children:["Under these new settings, the ",(0,r.jsx)("code",{className:"text-xs text-foreground",children:"anon"})," ","and ",(0,r.jsx)("code",{className:"text-xs text-foreground",children:"authenticated"})," roles can execute functions defined in the ",(0,r.jsx)("code",{className:"text-xs text-foreground",children:"api"})," ","schema, but they have no automatic permissions on any tables. On a table-by-table basis, you can grant them permissions by running the following command:"]}),(0,r.jsx)(eM.d,{language:"sql",className:"p-1 language-bash prose dark:prose-dark max-w-[68.3ch]",children:"grant select on table api.<your_table> to anon;\ngrant select, insert, update, delete on table api.<your_table> to authenticated;"})]})]})]}),(0,r.jsx)(eJ.P3,{}),(0,r.jsxs)(ep.zF,{children:[(0,r.jsxs)(ep.wy,{className:"py-4 px-5 w-full flex items-center justify-between text-sm",children:[(0,r.jsxs)("p",{children:["2. Remove the ",(0,r.jsx)("code",{className:"text-xs text-foreground",children:"public"})," schema from the exposed schemas"]}),h?(0,r.jsx)(_.Z,{size:16,className:"transition data-open-parent:rotate-180 data-closed-parent:rotate-0"}):(0,r.jsx)(eS.Z,{size:16,className:"text-brand"})]}),(0,r.jsx)(ep.Fw,{className:"text-sm text-foreground-light",children:(0,r.jsxs)("div",{className:"px-5 pb-4 flex flex-col gap-y-4",children:[(0,r.jsxs)(G.bZ,{variant:"warning",children:[(0,r.jsx)(Q.aN,{}),(0,r.jsxs)(G.Cd,{className:"text-foreground",children:["Ensure that your app is no longer using the"," ",(0,r.jsx)("code",{className:"text-xs text-foreground",children:"public"})," schema"]}),(0,r.jsxs)(G.X,{children:["The ",(0,r.jsx)("code",{className:"text-xs text-foreground",children:"public"})," schema will not be accessible via the API once its not exposed. You should be using the"," ",(0,r.jsx)("code",{className:"text-xs text-foreground",children:"api"})," schema instead."]})]}),(0,r.jsxs)("p",{children:["Click the button below to remove the"," ",(0,r.jsx)("code",{className:"text-xs text-foreground",children:"public"})," schema from both Exposed schemas and Extra search path in your API configuration."]}),(0,r.jsx)(T.u,{type:"primary",className:"w-min",disabled:!h,loading:p,tooltip:{content:{side:"right",text:"Public schema no longer exposed"}},onClick:()=>{if(void 0===s)return console.error("Project is required");if(void 0===i)return console.error("Postgrest config is required");let e=i.db_extra_search_path.split(",").map(e=>e.trim()).filter(e=>"public"!==e).join(", "),t=i.db_schema.split(",").map(e=>e.trim()).filter(e=>"public"!==e).join(", ");x({projectRef:s.ref,maxRows:i.max_rows,dbPool:i.db_pool,dbSchema:t,dbExtraSearchPath:e})},children:"Remove public schema from exposed schemas"})]})})]})]})})},eG=er.z.object({dbSchema:er.z.array(er.z.string()),dbExtraSearchPath:er.z.string(),maxRows:er.z.number().max(1e6,"Can't be more than 1,000,000"),dbPool:er.z.number().min(0,"Must be more than 0").max(1e3,"Can't be more than 1000").optional().nullable(),enableDataApi:er.z.boolean()}).refine(e=>!e.enableDataApi||0!==e.dbSchema.length,{message:"Must have at least one schema if Data API is enabled",path:["dbSchema"]}),eQ=()=>{var e,t;let{ref:a}=(0,c.UO)(),{project:n}=(0,d.d2)(),[s,l]=(0,i.useState)(!1),{data:u,isError:h}=(0,U.s)({projectRef:a}),{data:f}=(0,eo.H)({projectRef:null==n?void 0:n.ref,connectionString:null==n?void 0:n.connectionString}),{data:m,isLoading:x}=(0,ec.Q)({projectRef:null==n?void 0:n.ref,connectionString:null==n?void 0:n.connectionString}),{mutate:p,isLoading:g}=ei({onSuccess:()=>{o.Am.success("Successfully saved settings")}}),j="project-postgres-config",b=["auth","pgbouncer","hooks","extensions"],v=(0,V.Xo)(A.KA.UPDATE,"custom_config_postgrest"),y=(null===(e=(null!=f?f:[]).find(e=>"pg_graphql"===e.name))||void 0===e?void 0:e.installed_version)!==null,w=(0,ea.cI)({resolver:(0,$.F)(eG),mode:"onChange",defaultValues:{dbSchema:(null==u?void 0:u.db_schema)?null==u?void 0:u.db_schema.replace(/ /g,"").split(","):[],maxRows:null==u?void 0:u.max_rows,dbExtraSearchPath:null==u?void 0:u.db_extra_search_path,dbPool:null==u?void 0:u.db_pool}}),N=null!==(t=null==m?void 0:m.filter(e=>{if(0>K()(b,e.name))return e}).map(e=>({id:e.id,value:e.name,name:e.name,disabled:!1})))&&void 0!==t?t:[];function S(e){var t,a,r,n;let s=(null==u?void 0:u.db_schema)&&(null==u?void 0:u.db_schema)?u.db_schema.replace(/ /g,"").split(","):[];(null==e?void 0:e.enableDataApi)&&0===s.length&&s.push("public","storage");let l={dbSchema:null!==(t=null==e?void 0:e.dbSchema)&&void 0!==t?t:s,maxRows:null!==(a=null==e?void 0:e.maxRows)&&void 0!==a?a:null==u?void 0:u.max_rows,dbExtraSearchPath:null!==(r=null==e?void 0:e.dbExtraSearchPath)&&void 0!==r?r:null==u?void 0:u.db_extra_search_path,dbPool:null!==(n=null==e?void 0:e.dbPool)&&void 0!==n?n:null==u?void 0:u.db_pool,enableDataApi:null==e?void 0:e.enableDataApi};u&&w.reset({...l})}let k=async e=>{if(!a)return console.error("Project ref is required");p({projectRef:a,dbSchema:e.dbSchema.join(", "),maxRows:e.maxRows,dbExtraSearchPath:e.dbExtraSearchPath,dbPool:e.dbPool?e.dbPool:null})};(0,i.useEffect)(()=>{u&&S({enableDataApi:!!u.db_schema})},[u]);let C=w.getValues("enableDataApi");return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(eh.l0,{...w,children:(0,r.jsx)("form",{id:j,onSubmit:w.handleSubmit(k),children:(0,r.jsxs)(es.Tq,{children:[(0,r.jsxs)(es.iL,{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{children:"Data API Settings"}),(0,r.jsxs)("div",{className:"flex items-center gap-x-2",children:[(0,r.jsx)(O.z,{asChild:!0,type:"default",icon:(0,r.jsx)(ed.Z,{}),children:(0,r.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://supabase.com/docs/guides/database/connecting-to-postgres#data-apis",children:"Documentation"})}),(0,r.jsx)(O.z,{type:"default",icon:(0,r.jsx)(eu.Z,{}),onClick:()=>l(!0),children:"Harden Data API"})]})]}),(0,r.jsxs)(es.DO,{children:[h?(0,r.jsx)(ef.J,{type:"destructive",title:"Failed to retrieve API settings"}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(eh.Wi,{control:w.control,name:"enableDataApi",render:e=>{let{field:t}=e;return(0,r.jsxs)(eh.xJ,{className:"w-full",children:[(0,r.jsx)(ev.E,{className:"w-full px-8 py-8",layout:"flex",label:"Enable Data API",description:"When enabled you will be able to use any Supabase client library and PostgREST endpoints with any schema configured below.",children:(0,r.jsx)(eh.NI,{children:(0,r.jsx)(em.r,{size:"large",disabled:!v,checked:t.value,onCheckedChange:e=>{t.onChange(e),e?S({enableDataApi:!0}):S({enableDataApi:!1,dbSchema:[]})}})})}),!t.value&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ex.Z,{}),(0,r.jsxs)(G.bZ,{variant:"warning",className:"mb-0 border-none rounded-none",children:[(0,r.jsx)(Q.aN,{className:"!left-[2rem]"}),(0,r.jsx)(G.Cd,{className:"!pl-[3.5rem] !left-[6rem]",children:"No schemas can be queried"}),(0,r.jsxs)(G.X,{className:"!pl-[3.5rem]",children:[(0,r.jsx)("p",{children:"With this setting disabled, you will not be able to query any schemas via the Data API."}),(0,r.jsxs)("p",{children:["You will see errors from the Postgrest endpoint",(0,r.jsx)("code",{className:"text-xs",children:"/rest/v1/"}),"."]})]})]})]})]})}}),(0,r.jsx)(ep.zF,{open:w.getValues("enableDataApi"),children:(0,r.jsxs)(ep.Fw,{className:"border-t divide-y transition-all data-[state=closed]:animate-collapsible-up data-[state=open]:animate-collapsible-down",children:[(0,r.jsx)(eh.Wi,{control:w.control,name:"dbSchema",render:e=>{let{field:t}=e;return(0,r.jsx)(eh.xJ,{className:"w-full",children:(0,r.jsxs)(ev.E,{label:"Exposed schemas",description:"The schemas to expose in your API. Tables, views and stored procedures in these schemas will get API endpoints.",layout:"horizontal",className:"px-8 py-8",children:[x?(0,r.jsx)("div",{className:"col-span-12 flex flex-col gap-2 lg:col-span-7",children:(0,r.jsx)(ej,{className:"w-full h-[38px]"})}):(0,r.jsxs)(e_,{onValuesChange:t.onChange,values:t.value,size:"small",disabled:!v||!C,children:[(0,r.jsx)(eR,{children:(0,r.jsx)(eZ,{placeholder:"Select schemas for Data API..."})}),(0,r.jsx)(ez,{children:N.length<=0?(0,r.jsx)(eT,{children:(0,r.jsx)(eF,{value:"no",children:"no"},"empty")}):(0,r.jsx)(eT,{children:N.map((e,t)=>(0,r.jsx)(eF,{value:e.name,children:e.name},e.id+"-"+t))})})]}),!t.value.includes("public")&&t.value.length>0&&(0,r.jsx)(ef.J,{type:"default",title:"The public schema for this project is not exposed",className:"mt-2",description:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("p",{children:["You will not be able to query tables and views in the"," ",(0,r.jsx)("code",{children:"public"})," schema via supabase-js or HTTP clients."]}),y&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("p",{children:["Tables in the ",(0,r.jsx)("code",{className:"text-xs",children:"public"})," ","schema are still exposed over our GraphQL endpoints."]}),(0,r.jsx)(O.z,{asChild:!0,type:"default",children:(0,r.jsx)(et(),{href:"/project/".concat(a,"/database/extensions"),children:"Disable the pg_graphql extension"})})]})]})})]})})}}),(0,r.jsx)(eh.Wi,{control:w.control,name:"dbExtraSearchPath",render:e=>{let{field:t}=e;return(0,r.jsx)(eh.xJ,{className:"w-full",children:(0,r.jsx)(ev.E,{className:"w-full px-8 py-8",layout:"horizontal",label:"Extra search path",description:"Extra schemas to add to the search path of every request. Multiple schemas must be comma-separated.",children:(0,r.jsx)(eh.NI,{children:(0,r.jsx)(eb.I,{size:"small",disabled:!v||!C,...t})})})})}}),(0,r.jsx)(eh.Wi,{control:w.control,name:"maxRows",render:e=>{let{field:t}=e;return(0,r.jsx)(eh.xJ,{className:"w-full",children:(0,r.jsx)(ev.E,{className:"w-full px-8 py-8",layout:"horizontal",label:"Max rows",description:"The maximum number of rows returned from a view, table, or stored procedure. Limits payload size for accidental or malicious requests.",children:(0,r.jsx)(eh.NI,{children:(0,r.jsx)(eb.I,{size:"small",disabled:!v||!C,...t,type:"number",...w.register("maxRows",{valueAsNumber:!0})})})})})}}),(0,r.jsx)(eh.Wi,{control:w.control,name:"dbPool",render:e=>{let{field:t}=e;return(0,r.jsx)(eh.xJ,{className:"w-full",children:(0,r.jsx)(ev.E,{className:"w-full px-8 py-8",layout:"horizontal",label:"Pool size",description:"Number of maximum connections to keep open in the Data API server's database pool. Unset to let it be configured automatically based on compute size.",children:(0,r.jsx)(eh.NI,{children:(0,r.jsx)(eb.I,{size:"small",disabled:!v||!C,...t,type:"number",placeholder:"Configured automatically based on compute size",onChange:e=>t.onChange(""===e.target.value?null:Number(e.target.value)),value:null===t.value?"":t.value})})})})}})]})})]}),(0,r.jsx)(es.m9,{className:"flex px-8 py-4",children:(0,r.jsx)(en.i,{form:j,isSubmitting:g,hasChanges:w.formState.isDirty,handleReset:S,disabled:!v,helper:v?void 0:"You need additional permissions to update your project's API settings"})})]})]})})}),(0,r.jsx)(eB,{visible:s,onClose:()=>l(!1)})]})};var eH=()=>{var e,t;let a=(0,s.NL)(),{project:C,isLoading:A}=(0,d.d2)(),{ref:E,source:_}=(0,c.UO)(),P=(0,w.TF)(),{data:R,isError:I}=(0,g.q)({projectRef:E}),{data:Z}=(0,j.z)({projectRef:E}),{data:z}=(0,v.bN)({projectRef:E}),{data:T}=(0,b.j)({projectRef:E}),{data:F}=(0,x.t)({projectRef:E}),L=null==F?void 0:F.jwtSecretUpdateStatus,D=null==F?void 0:F.jwtSecretUpdateError,W=(0,i.useRef)(),{Failed:U,Updated:V,Updating:q}=n.JwtSecretUpdateStatus,O=k[D],J=(null==Z?void 0:null===(e=Z.customDomain)||void 0===e?void 0:e.status)==="active",M=null==z?void 0:z.find(e=>e.identifier===P.selectedDatabaseId),B="load-balancer"===P.selectedDatabaseId,G=(null==M?void 0:M.identifier)!==E,Q=J&&P.selectedDatabaseId===E?"https://".concat(Z.customDomain.hostname):B?null!==(t=null==T?void 0:T[0].endpoint)&&void 0!==t?t:"":null==M?void 0:M.restUrl;return(0,i.useEffect)(()=>{if(W.current===q)switch(L){case V:a.invalidateQueries(p.U.api(E)),a.invalidateQueries(p.U.settings(E)),a.invalidateQueries(p.U.postgrest(E)),o.Am.success("Successfully updated JWT secret");break;case U:o.Am.error("JWT secret update failed: ".concat(O))}W.current=L},[L]),(0,i.useEffect)(()=>{void 0!==_&&P.setSelectedDatabaseId("load-balancer")},[_]),(0,r.jsx)("div",{children:A?(0,r.jsx)(m.A,{}):(null==C?void 0:C.status)!==y.S.ACTIVE_HEALTHY?(0,r.jsxs)("div",{className:"flex items-center justify-center rounded border border-overlay bg-surface-100 p-8",children:[(0,r.jsx)(l.Z,{size:16}),(0,r.jsx)("p",{className:"text-sm text-foreground-light ml-2",children:"API settings are unavailable as the project is not active"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("section",{children:(0,r.jsx)(h.Z,{title:(0,r.jsxs)("div",{className:"w-full flex items-center justify-between",children:[(0,r.jsx)("h5",{className:"mb-0",children:"Project URL"}),(0,r.jsx)(u.Z,{additionalOptions:(null!=T?T:[]).length>0?[{id:"load-balancer",name:"API Load Balancer"}]:[]})]}),children:(0,r.jsx)(h.Z.Content,{children:I?(0,r.jsxs)("div",{className:"flex items-center justify-center py-4 space-x-2",children:[(0,r.jsx)(l.Z,{size:16}),(0,r.jsx)("p",{className:"text-sm text-foreground-light",children:"Failed to retrieve project URL"})]}):(0,r.jsx)(N.Z,{copy:!0,label:J?(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("p",{children:"URL"}),(0,r.jsx)(S.C,{children:"Custom domain active"})]}):"URL",readOnly:!0,disabled:!0,className:"input-mono",value:Q,descriptionText:B?"RESTful endpoint for querying and managing your databases through your load balancer":G?"RESTful endpoint for querying your read replica":"RESTful endpoint for querying and managing your database",layout:"horizontal"})})})}),(0,r.jsx)("section",{children:(0,r.jsx)(f.D,{},"DisplayAPISettings")}),(0,r.jsx)("section",{children:(0,r.jsx)(X,{})}),(0,r.jsx)("section",{id:"postgrest-config",children:(0,r.jsx)(eQ,{})})]})})},eX=a(79067),e$=a(74178);let eY=()=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e$._S,{id:"billing-page-top",children:(0,r.jsx)(e$.tU,{children:(0,r.jsx)(e$.q7,{children:"API Settings"})})}),(0,r.jsx)(e$._S,{bottomPadding:!0,children:(0,r.jsx)(eH,{})})]});eY.getLayout=e=>(0,r.jsx)(eX.Z,{title:"API Settings",children:e});var eK=eY},82137:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(46145).Z)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},44142:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(46145).Z)("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]])},16826:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(46145).Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},85563:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(46145).Z)("OctagonAlert",[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]])},44446:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(46145).Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},74138:function(e,t,a){"use strict";var r=a(52322),n=a(2784),s=a(41909),l=a(54383),i=a(32079),o=a(71550);let c=(0,n.forwardRef)((e,t)=>{let{title:a,size:c="small",visible:d,onCancel:u,onConfirm:h,loading:f=!1,cancelLabel:m="Cancel",confirmLabel:x="Submit",confirmLabelLoading:p,alert:g,children:j,variant:b="default",disabled:v,...y}=e;(0,n.useEffect)(()=>{d&&N(!1)},[d]),(0,n.useEffect)(()=>{N(f)},[f]);let[w,N]=(0,n.useState)(!1);return(0,r.jsx)(s.Vq,{open:d,...y,onOpenChange:()=>{d&&u()},children:(0,r.jsxs)(s.cZ,{ref:t,className:"p-0 gap-0 pb-5 !block",size:c,children:[(0,r.jsx)(s.fK,{className:(0,l.cn)("border-b"),padding:"small",children:(0,r.jsx)(s.$N,{className:"",children:a})}),g&&(0,r.jsx)(o.J,{type:b,label:g.title,description:g.description,className:"border-r-0 border-l-0 rounded-none -mt-px [&_svg]:ml-0.5 mb-0",...null==g?void 0:g.base}),j&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.VO,{padding:"small",children:j}),(0,r.jsx)(s.P3,{})]}),(0,r.jsxs)("div",{className:"flex gap-2 px-5 pt-5",children:[(0,r.jsx)(i.z,{size:"medium",block:!0,type:"default",disabled:w,onClick:()=>u(),children:m}),(0,r.jsx)(i.z,{block:!0,size:"medium",type:"destructive"===b?"danger":"warning"===b?"warning":"primary",htmlType:"submit",loading:w,disabled:w||v,onClick:e=>{e.preventDefault(),e.stopPropagation(),N(!0),h()},className:"truncate",children:x})]})]})})});c.displayName="ConfirmationModal",t.Z=c},87668:function(e,t,a){"use strict";a.d(t,{E:function(){return y}});var r=a(52322),n=a(2784),s=a(22574),l=a(10929),i=a(54383),o=a(6112),c=a(75109),d=a(67914);let u=(0,l.j)("relative grid gap-2",{variants:{size:{tiny:"text-xs",small:"text-sm leading-4",medium:"text-sm",large:"text-base",xlarge:"text-base"},align:{left:"",right:""},responsive:{true:"",false:""},layout:{horizontal:"grid grid-cols-12",vertical:"flex flex-col gap-3",flex:"flex flex-row gap-3","flex-row-reverse":"flex flex-row gap-3 flex-row-reverse justify-between"},flex:{true:"",false:""}},compoundVariants:[{layout:"flex",align:"right",className:"justify-between"},{layout:"flex-row-reverse",align:"right",className:"justify-between"}],defaultVariants:{}}),h=(0,l.j)("transition-all duration-500 ease-in-out",{variants:{flex:{true:"",false:""},align:{left:"",right:""},layout:{horizontal:"flex flex-col gap-2 col-span-4",vertical:"flex flex-row gap-2 justify-between",flex:"flex flex-col gap-0","flex-row-reverse":"flex flex-col gap-2"},labelLayout:{horizontal:"",vertical:"","":""}},compoundVariants:[{flex:!0,align:"left",className:"order-2"},{flex:!0,align:"right",className:"order-1"},{layout:"vertical",labelLayout:void 0,flex:!1,className:"flex flex-row gap-2 justify-between"},{layout:"horizontal",className:"flex flex-col gap-2"}],defaultVariants:{}}),f=(0,l.j)("transition-all duration-500 ease-in-out",{variants:{flex:{true:"",false:""},align:{left:"order-1",right:"order-2"},layout:{horizontal:"",vertical:"",flex:"","flex-row-reverse":""}},compoundVariants:[{flex:!0,align:"left",className:"order-1"},{flex:!0,align:"right",className:"order-2"},{layout:"vertical",className:"col-span-12"},{layout:"horizontal",align:"left",className:"col-span-8"},{layout:"horizontal",align:"right",className:"text-right"}],defaultVariants:{}}),m=(0,l.j)("text-foreground-lighter leading-normal",{variants:{size:{...c.NO.text},layout:{vertical:"mt-2",horizontal:"mt-2",flex:"","flex-row-reverse":""}},defaultVariants:{}}),x=(0,l.j)("text-foreground-muted",{variants:{size:{...c.NO.text}},defaultVariants:{}}),p=(0,l.j)("text-foreground-muted",{variants:{size:{...c.NO.text}},defaultVariants:{}}),g=(0,l.j)("text-foreground-muted",{variants:{size:{...c.NO.text}},defaultVariants:{}}),j=(0,l.j)("",{variants:{flex:{true:"",false:""},align:{left:"",right:""}},compoundVariants:[{flex:!0,align:"left",className:""},{flex:!0,align:"right",className:"order-last"}]}),b=(0,l.j)("",{variants:{nonBoxInput:{true:"",false:""},label:{true:"",false:""},layout:{vertical:"",horizontal:"","flex-row-reverse":""}},compoundVariants:[{nonBoxInput:!0,label:!0,layout:"vertical",className:"my-3"},{nonBoxInput:!0,label:!0,layout:"horizontal",className:"my-3 md:mt-0 mb-3"}],defaultVariants:{}}),v=n.forwardRef((e,t)=>{let{align:a="left",className:n,description:l,id:c,label:v,labelOptional:y,layout:w="vertical",style:N,labelLayout:S,size:k="medium",beforeLabel:C,afterLabel:A,nonBoxInput:E=!v,hideMessage:_=!1,isReactForm:P,...R}=e,I="flex"===w||"flex-row-reverse"===w,Z=!!(v||C||A),z=P&&!_&&(0,r.jsx)(d.E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3,ease:"easeInOut"},className:"mt-2",children:(0,r.jsx)(s.zG,{className:"mt-2 transition-opacity duration-300 ease-in-out","data-formlayout-id":"message"})}),T=l&&P?(0,r.jsx)(s.pf,{className:(0,i.cn)(m({size:k,layout:w})),"data-formlayout-id":"description",id:c+"-description",children:l}):l?(0,r.jsx)("p",{className:(0,i.cn)(m({size:k,layout:w}),"text-sm text-foreground-light"),"data-formlayout-id":"description",children:l}):null,F=()=>(0,r.jsxs)(r.Fragment,{children:[C&&(0,r.jsx)("span",{className:(0,i.cn)(x({size:k})),id:c+"-before","data-formlayout-id":"beforeLabel",children:(0,r.jsx)("span",{children:C})}),(0,r.jsx)("span",{children:v}),A&&(0,r.jsx)("span",{className:(0,i.cn)(p({size:k})),id:c+"-after","data-formlayout-id":"afterLabel",children:A})]});return(0,r.jsxs)("div",{ref:t,...R,className:(0,i.cn)(u({size:k,flex:I,align:a,layout:w}),n),children:[I&&(0,r.jsx)("div",{className:(0,i.cn)(j({flex:I,align:a})),children:R.children}),Z||y||"horizontal"===w?(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:(0,i.cn)(h({align:a,labelLayout:S,flex:I,layout:w})),"data-formlayout-id":"labelContainer",children:[Z&&P?(0,r.jsx)(s.lX,{className:"flex gap-2 items-center break-all","data-formlayout-id":"formLabel",children:(0,r.jsx)(F,{})}):(0,r.jsx)(o._,{htmlFor:R.name,"data-formlayout-id":"label",className:"flex gap-2 items-center break-all",children:(0,r.jsx)(F,{})}),y&&(0,r.jsx)("span",{className:(0,i.cn)(g({size:k})),id:c+"-optional","data-formlayout-id":"labelOptional",children:y}),I&&(0,r.jsxs)(r.Fragment,{children:[T,z]})]})}):null,!I&&(0,r.jsx)("div",{className:(0,i.cn)(f({align:a,layout:w})),style:N,"data-formlayout-id":"dataContainer",children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:(0,i.cn)(b({nonBoxInput:E,label:v,layout:w})),"data-formlayout-id":"nonBoxInputContainer",children:R.children}),z,T]})})]})}),y=(0,n.forwardRef)((e,t)=>{let{...a}=e;return(0,r.jsx)(s.xJ,{children:(0,r.jsx)(v,{ref:t,isReactForm:!0,...a,children:a.children})})});y.displayName="FormItemLayout"},48869:function(e,t,a){"use strict";a.d(t,{b:function(){return h}});var r=a(52322),n=a(2784),s=a(46318),l=a(85563),i=a(38187),o=a(67815),c=a(82137),d=a(8609);let u={danger:(0,r.jsx)(l.Z,{strokeWidth:1.5,size:18}),success:(0,r.jsx)(i.Z,{strokeWidth:1.5,size:18}),warning:(0,r.jsx)(o.Z,{strokeWidth:1.5,size:18}),info:(0,r.jsx)(c.Z,{strokeWidth:1.5,size:18}),neutral:(0,r.jsx)(r.Fragment,{})};function h(e){let{variant:t="neutral",className:a,title:l,withIcon:i,closable:o,children:c,icon:h,actions:f}=e,m=(0,s.Z)("alert"),[x,p]=(0,n.useState)(!0),g=[m.base];g.push(m.variant[t].base),a&&g.push(a);let j=[m.description,m.variant[t].description],b=[m.close];return(0,r.jsx)(r.Fragment,{children:x&&(0,r.jsxs)("div",{className:g.join(" "),children:[i?(0,r.jsx)("div",{className:m.variant[t].icon,children:i&&u[t]}):null,h&&h,(0,r.jsxs)("div",{className:"flex flex-1 items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:[m.variant[t].header,m.header].join(" "),children:l}),(0,r.jsx)("div",{className:j.join(" "),children:c})]}),f]}),o&&(0,r.jsx)("button",{"aria-label":"Close alert",onClick:()=>p(!1),className:b.join(" "),children:(0,r.jsx)(d.Z,{strokeWidth:2,size:16})})]})})}},58898:function(e,t,a){"use strict";a.d(t,{d:function(){return k}});var r=a(52322),n=a(76141),s=a(94299),l=a(6659),i=a(2784),o=a(72282),c=a(90028),d=a(54383),u=a(32079);let h=e=>({hljs:{display:"block",overflowX:"auto",color:e?"#ddd":"#888"},"hljs-tag":{color:"#569cd6"},"hljs-keyword":{color:"#569cd6",fontWeight:"normal"},"hljs-selector-tag":{color:"#569cd6",fontWeight:"normal"},"hljs-literal":{color:"#569cd6",fontWeight:"normal"},"hljs-strong":{color:"#569cd6"},"hljs-name":{color:"#569cd6"},"hljs-code":{color:"#66d9ef"},"hljs-class .hljs-title":{color:"gray"},"hljs-attribute":{color:"#bf79db"},"hljs-symbol":{color:"#bf79db"},"hljs-regexp":{color:"#bf79db"},"hljs-link":{color:"#bf79db"},"hljs-string":{color:"#3ECF8E"},"hljs-bullet":{color:"#3ECF8E"},"hljs-subst":{color:"#3ECF8E"},"hljs-title":{color:"#3ECF8E",fontWeight:"normal"},"hljs-section":{color:"#3ECF8E",fontWeight:"normal"},"hljs-emphasis":{color:"#3ECF8E"},"hljs-type":{color:"#3ECF8E",fontWeight:"normal"},"hljs-built_in":{color:"#3ECF8E"},"hljs-builtin-name":{color:"#3ECF8E"},"hljs-selector-attr":{color:"#3ECF8E"},"hljs-selector-pseudo":{color:"#3ECF8E"},"hljs-addition":{color:"#3ECF8E"},"hljs-variable":{color:"#3ECF8E"},"hljs-template-tag":{color:"#3ECF8E"},"hljs-template-variable":{color:"#3ECF8E"},"hljs-comment":{color:e?"#999":"#888"},"hljs-quote":{color:"#75715e"},"hljs-deletion":{color:"#75715e"},"hljs-meta":{color:"#75715e"},"hljs-doctag":{fontWeight:"normal"},"hljs-selector-id":{fontWeight:"normal"}});var f=a(65820),m=a.n(f),x=a(27666),p=a(31806),g=a(88109),j=a(80039),b=a(86497),v=a(81303),y=a(83667),w=a(54299),N=a(14969),S=a(12463);let k=e=>{var t,a,f,k;let{title:C,language:A,linesToHighlight:E=[],highlightBorder:_,styleConfig:P,className:R,wrapperClassName:I,value:Z,theme:z,children:T,hideCopy:F=!1,hideLineNumbers:L=!1,renderer:D,focusable:W=!0}=e,{resolvedTheme:U}=(0,l.F)(),V=null==U?void 0:U.includes("dark"),q=null!=z?z:h(V),[O,J]=(0,i.useState)(!1),M=()=>{J(!0),setTimeout(()=>{J(!1)},1e3)},B=i.Children.toArray(T),[G]=1===B.length?B:[],Q=null!==(a=null!=Z?Z:"string"==typeof G?G:void 0)&&void 0!==a?a:T,H="string"==typeof(Q=null!==(f=null==Q?void 0:null===(t=Q.trimEnd)||void 0===t?void 0:t.call(Q))&&void 0!==f?f:Q)&&Q.length<70?"short-inline-codeblock":"",X=A||(R?R.replace("language-",""):"js");"jsx"===X&&(X="js"),c.Z.registerLanguage("js",b.Z),c.Z.registerLanguage("ts",S.Z),c.Z.registerLanguage("py",w.Z),c.Z.registerLanguage("sql",N.Z),c.Z.registerLanguage("bash",x.Z),c.Z.registerLanguage("dart",g.Z),c.Z.registerLanguage("csharp",p.Z),c.Z.registerLanguage("json",v.Z),c.Z.registerLanguage("kotlin",y.Z),c.Z.registerLanguage("curl",m()),c.Z.registerLanguage("http",j.Z),("bash"===X||"sh"===X)&&(L=!0);let $=!L;return(0,r.jsxs)(r.Fragment,{children:[C&&(0,r.jsx)("div",{className:"text-sm rounded-t-md bg-surface-100 py-2 px-4 border border-b-0 border-default font-sans",children:C}),R?(0,r.jsxs)("div",{className:(0,d.cn)("group relative max-w-[90vw] md:max-w-none overflow-auto",I),children:[(0,r.jsx)(c.Z,{language:X,wrapLines:!0,style:q,className:(0,d.cn)("code-block border border-surface p-4 w-full !my-0 !bg-surface-100 outline-none focus:border-foreground-lighter/50","".concat(C?"!rounded-t-none !rounded-b-md":"!rounded-md"),"".concat($?"":"pl-6"),R),customStyle:{fontSize:13,lineHeight:1.4},showLineNumbers:$,lineProps:e=>E.includes(e)?{style:{display:"block",backgroundColor:(null==P?void 0:P.highlightBackgroundColor)?null==P?void 0:P.highlightBackgroundColor:"hsl(var(--background-selection))",borderLeft:_?"1px solid ".concat((null==P?void 0:P.highlightBorderColor)?null==P?void 0:P.highlightBorderColor:"hsl(var(--foreground-default)",")"):null},class:"hljs-line-highlight"}:{},lineNumberContainerStyle:{paddingTop:"128px"},lineNumberStyle:{minWidth:"44px",paddingLeft:"4px",paddingRight:"4px",marginRight:"12px",color:null!==(k=null==P?void 0:P.lineNumber)&&void 0!==k?k:"#828282",textAlign:"center",fontSize:12,paddingTop:"4px",paddingBottom:"4px"},renderer:D,contentEditable:W,onBeforeInput:e=>(e.preventDefault(),!1),suppressContentEditableWarning:!0,children:Q}),!F&&(Z||T)&&R?(0,r.jsx)("div",{className:["absolute right-2 top-2","opacity-0 group-hover:opacity-100 transition","".concat(V?"dark":"")].join(" "),children:(0,r.jsx)(o.CopyToClipboard,{text:Z||T,children:(0,r.jsx)(u.z,{type:"default",className:"px-1.5",icon:O?(0,r.jsx)(n.Z,{}):(0,r.jsx)(s.Z,{}),onClick:()=>M(),children:O?"Copied":""})})}):null]}):(0,r.jsx)("code",{className:H,children:Z||T})]})}},3085:function(e,t,a){"use strict";a.d(t,{ZP:function(){return h}});var r=a(52322),n=a(2784),s=a(46318),l=a(54383);function i(e){let{children:t,className:a,tag:n="div",style:s}=e;return(0,r.jsx)("".concat(n),{style:s,children:t})}i.Title=function(e){let{className:t,level:a=1,children:n,style:s}=e;return(0,r.jsx)("h".concat(a),{style:s,children:n})},i.Text=function(e){let{className:t,children:a,style:n,type:s,disabled:l,mark:i,code:o,keyboard:c,underline:d,strikethrough:u,strong:h,small:f}=e;return o?(0,r.jsx)("code",{style:n,children:a}):i?(0,r.jsx)("mark",{style:n,children:a}):c?(0,r.jsx)("kbd",{style:n,children:a}):h?(0,r.jsx)("strong",{style:n,children:a}):(0,r.jsx)("span",{style:n,children:a})},i.Link=function(e){let{children:t,target:a="_blank",href:n,className:s,onClick:l,style:i}=e;return(0,r.jsx)("a",{onClick:l,href:n,target:a,rel:"noopener noreferrer",style:i,children:t})};let o=(0,n.createContext)({type:"text"}),c=e=>{let{type:t}=e;return(0,r.jsx)(o.Provider,{value:{type:t},children:e.children})},d=()=>{let e=(0,n.useContext)(o);if(void 0===e)throw Error("MenuContext must be used within a MenuContextProvider.");return e};function u(e){let{children:t,className:a,ulClassName:n,style:s,type:l="text"}=e;return(0,r.jsx)("nav",{role:"menu","aria-label":"Sidebar","aria-orientation":"vertical","aria-labelledby":"options-menu",className:a,style:s,children:(0,r.jsx)(c,{type:l,children:(0,r.jsx)("ul",{className:n,children:t})})})}u.Item=function(e){let{children:t,icon:a,active:n,rounded:i,onClick:o,doNotCloseOverlay:c=!1,showActiveBar:u=!1,style:h}=e,f=(0,s.Z)("menu"),{type:m}=d(),x=[f.item.base];x.push(f.item.variants[m].base),n?x.push(f.item.variants[m].active):x.push(f.item.variants[m].normal);let p=[f.item.content.base];n?p.push(f.item.content.active):p.push(f.item.content.normal);let g=[f.item.icon.base];return n?g.push(f.item.icon.active):g.push(f.item.icon.normal),(0,r.jsxs)("li",{role:"menuitem",className:(0,l.cn)("outline-none",x),style:h,onClick:o,"aria-current":n?"page":void 0,children:[a&&(0,r.jsx)("div",{className:"".concat(g.join(" ")," min-w-fit"),children:a}),(0,r.jsx)("span",{className:p.join(" "),children:t})]})},u.Group=function(e){let{children:t,icon:a,title:n}=e,l=(0,s.Z)("menu"),{type:i}=d();return(0,r.jsxs)("div",{className:[l.group.base,l.group.variants[i]].join(" "),children:[a&&(0,r.jsx)("span",{className:l.group.icon,children:a}),(0,r.jsx)("span",{className:l.group.content,children:n}),t]})},u.Misc=function(e){let{children:t}=e;return(0,r.jsx)("div",{children:(0,r.jsx)(i.Text,{children:(0,r.jsx)("span",{children:t})})})};var h=u},55283:function(e,t,a){"use strict";a.d(t,{Fw:function(){return l},wy:function(){return s},zF:function(){return n}});var r=a(69557);let n=r.fC,s=r.wy,l=r.Fw},93705:function(e,t,a){"use strict";a.d(t,{r:function(){return d}});var r=a(52322),n=a(16530),s=a(10929),l=a(2784),i=a(54383);let o=(0,s.j)("peer inline-flex shrink-0 cursor-pointer items-center rounded-full border transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-brand data-[state=checked]:hover:bg-brand-600/90 data-[state=unchecked]:bg-control data-[state=unchecked]:hover:bg-border",{variants:{size:{small:"h-[16px] w-[28px]",medium:"h-[20px] w-[34px]",large:"h-[24px] w-[44px]"}},defaultVariants:{size:"medium"}}),c=(0,s.j)("pointer-events-none block rounded-full bg-foreground-lighter data-[state=checked]:bg-white shadow-lg ring-0 transition-transform",{variants:{size:{small:"h-[12px] w-[12px] data-[state=checked]:translate-x-[13px] data-[state=unchecked]:translate-x-[1px]",medium:"h-[16px] w-[16px] data-[state=checked]:translate-x-[15px] data-[state=unchecked]:translate-x-[1px]",large:"h-[18px] w-[18px] data-[state=checked]:translate-x-[22px] data-[state=unchecked]:translate-x-[3px]"}},defaultVariants:{size:"medium"}}),d=l.forwardRef((e,t)=>{let{className:a,size:s,...l}=e;return(0,r.jsx)(n.fC,{className:(0,i.cn)(o({size:s}),a),...l,ref:t,children:(0,r.jsx)(n.bU,{className:(0,i.cn)(c({size:s}))})})});d.displayName=n.fC.displayName},926:function(e,t,a){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=Array(t);a<t;a++)r[a]=e[a];return r}a.d(t,{Z:function(){return r}})},56666:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});var r=a(32802);function n(e,t,a){return(t=(0,r.Z)(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}},32802:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});var r=a(86522);function n(e){var t=function(e,t){if("object"!=(0,r.Z)(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=(0,r.Z)(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==(0,r.Z)(t)?t:t+""}},86522:function(e,t,a){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}a.d(t,{Z:function(){return r}})},59147:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});var r=a(926);function n(e,t){if(e){if("string"==typeof e)return(0,r.Z)(e,t);var a=({}).toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?(0,r.Z)(e,t):void 0}}},69557:function(e,t,a){"use strict";a.d(t,{Fw:function(){return y},VY:function(){return C},fC:function(){return S},p_:function(){return x},wy:function(){return b},xz:function(){return k}});var r=a(7896),n=a(2784),s=a(17998),l=a(92211),i=a(87695),o=a(61644),c=a(62656),d=a(72714),u=a(79616),h=a(23372);let f="Collapsible",[m,x]=(0,l.b)(f),[p,g]=m(f),j=(0,n.forwardRef)((e,t)=>{let{__scopeCollapsible:a,open:s,defaultOpen:l,disabled:o,onOpenChange:c,...u}=e,[f=!1,m]=(0,i.T)({prop:s,defaultProp:l,onChange:c});return(0,n.createElement)(p,{scope:a,disabled:o,contentId:(0,h.M)(),open:f,onOpenToggle:(0,n.useCallback)(()=>m(e=>!e),[m])},(0,n.createElement)(d.WV.div,(0,r.Z)({"data-state":N(f),"data-disabled":o?"":void 0},u,{ref:t})))}),b=(0,n.forwardRef)((e,t)=>{let{__scopeCollapsible:a,...l}=e,i=g("CollapsibleTrigger",a);return(0,n.createElement)(d.WV.button,(0,r.Z)({type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":N(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled},l,{ref:t,onClick:(0,s.M)(e.onClick,i.onOpenToggle)}))}),v="CollapsibleContent",y=(0,n.forwardRef)((e,t)=>{let{forceMount:a,...s}=e,l=g(v,e.__scopeCollapsible);return(0,n.createElement)(u.z,{present:a||l.open},({present:e})=>(0,n.createElement)(w,(0,r.Z)({},s,{ref:t,present:e})))}),w=(0,n.forwardRef)((e,t)=>{let{__scopeCollapsible:a,present:s,children:l,...i}=e,u=g(v,a),[h,f]=(0,n.useState)(s),m=(0,n.useRef)(null),x=(0,c.e)(t,m),p=(0,n.useRef)(0),j=p.current,b=(0,n.useRef)(0),y=b.current,w=u.open||h,S=(0,n.useRef)(w),k=(0,n.useRef)();return(0,n.useEffect)(()=>{let e=requestAnimationFrame(()=>S.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,o.b)(()=>{let e=m.current;if(e){k.current=k.current||{transitionDuration:e.style.transitionDuration,animationName:e.style.animationName},e.style.transitionDuration="0s",e.style.animationName="none";let t=e.getBoundingClientRect();p.current=t.height,b.current=t.width,S.current||(e.style.transitionDuration=k.current.transitionDuration,e.style.animationName=k.current.animationName),f(s)}},[u.open,s]),(0,n.createElement)(d.WV.div,(0,r.Z)({"data-state":N(u.open),"data-disabled":u.disabled?"":void 0,id:u.contentId,hidden:!w},i,{ref:x,style:{"--radix-collapsible-content-height":j?`${j}px`:void 0,"--radix-collapsible-content-width":y?`${y}px`:void 0,...e.style}}),w&&l)});function N(e){return e?"open":"closed"}let S=j,k=b,C=y},16530:function(e,t,a){"use strict";a.d(t,{bU:function(){return w},fC:function(){return y}});var r=a(7896),n=a(2784),s=a(17998),l=a(62656),i=a(92211),o=a(87695),c=a(90022),d=a(35019),u=a(72714);let h="Switch",[f,m]=(0,i.b)(h),[x,p]=f(h),g=(0,n.forwardRef)((e,t)=>{let{__scopeSwitch:a,name:i,checked:c,defaultChecked:d,required:h,disabled:f,value:m="on",onCheckedChange:p,...g}=e,[j,y]=(0,n.useState)(null),w=(0,l.e)(t,e=>y(e)),N=(0,n.useRef)(!1),S=!j||!!j.closest("form"),[k=!1,C]=(0,o.T)({prop:c,defaultProp:d,onChange:p});return(0,n.createElement)(x,{scope:a,checked:k,disabled:f},(0,n.createElement)(u.WV.button,(0,r.Z)({type:"button",role:"switch","aria-checked":k,"aria-required":h,"data-state":v(k),"data-disabled":f?"":void 0,disabled:f,value:m},g,{ref:w,onClick:(0,s.M)(e.onClick,e=>{C(e=>!e),S&&(N.current=e.isPropagationStopped(),N.current||e.stopPropagation())})})),S&&(0,n.createElement)(b,{control:j,bubbles:!N.current,name:i,value:m,checked:k,required:h,disabled:f,style:{transform:"translateX(-100%)"}}))}),j=(0,n.forwardRef)((e,t)=>{let{__scopeSwitch:a,...s}=e,l=p("SwitchThumb",a);return(0,n.createElement)(u.WV.span,(0,r.Z)({"data-state":v(l.checked),"data-disabled":l.disabled?"":void 0},s,{ref:t}))}),b=e=>{let{control:t,checked:a,bubbles:s=!0,...l}=e,i=(0,n.useRef)(null),o=(0,c.D)(a),u=(0,d.t)(t);return(0,n.useEffect)(()=>{let e=i.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(o!==a&&t){let r=new Event("click",{bubbles:s});t.call(e,a),e.dispatchEvent(r)}},[o,a,s]),(0,n.createElement)("input",(0,r.Z)({type:"checkbox","aria-hidden":!0,defaultChecked:a},l,{tabIndex:-1,ref:i,style:{...e.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function v(e){return e?"checked":"unchecked"}let y=g,w=j}},function(e){e.O(0,[8421,8183,6334,5746,1357,2474,5590,6128,6875,7280,2569,7914,9979,8507,9428,5029,4689,2888,9774,179],function(){return e(e.s=8299)}),_N_E=e.O()}]);