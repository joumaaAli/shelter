"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5287],{28780:function(e,s,t){t.d(s,{Z:function(){return er}});var l=t(52322),n=t(59491),a=t(2784),i=t(14782),r=t(87175),o=t(4689),c=t(96795),d=t.n(c),u=t(89404),x=t(23915),h=t(99959),p=t(31362),m=t(56006),f=t(44778),j=t(11280),b=t(92286),v=t(49650),g=t(37603),N=t(94957),y=t(6564),w=t(23770),k=t(90130),C=t(11354),_=t(53475),S=t(95492),z=t(32079),Z=t(61786),E=t(71640),R=t(6112),A=t(40022),L=t(27570),T=t(24990),I=t(46782),O=t.n(I),F=t(64273),W=t(38120),D=t(48188),B=t(67767),P=t(65644),V=t(94299),M=t(16826),X=t(17913),Q=t(3536),q=t(39097),Y=t.n(q),G=t(90286),J=t.n(G),K=t(56958),H=t(96048),U=t(48998),$=t(34420),ee=t(52903),es=t(57142),et=t(54383),el=t(34503),en=t(80435),ea=e=>{var s,t,n,a,i,r,o,c;let{id:d,projectRef:u,item:x,isLocked:p}=e,{project:m}=(0,L.d2)(),f=(0,_._2)(),{selectedSchema:j}=(0,k.B)(),b=Number(d)===x.id,{data:v=[]}=(0,ee.U)({projectRef:null==m?void 0:m.ref}),N=(0,$.R)(x.name,"rls_disabled_in_public",["ERROR"],v,j).hasLint,w=(0,$.R)(x.name,"security_definer_view",["ERROR","WARN"],v,j).hasLint,C=(0,$.R)(x.name,"materialized_view_in_api",["ERROR","WARN"],v,j).hasLint,S=async()=>{if(h.Qy&&!(null==m?void 0:m.connectionString))return console.error("Connection string is required");let e=K.Am.loading("Exporting ".concat(x.name," as CSV..."));try{var s;let t=await (0,y.hC)({id:x.id,projectRef:u,connectionString:null==m?void 0:m.connectionString});if(t.live_rows_estimate>H.kI)return K.Am.error((0,l.jsx)(en.U,{content:H.m0,className:"text-foreground"}),{id:e});let n=t&&(0,U.NK)({table:t,columns:null!==(s=t.columns)&&void 0!==s?s:[],primaryKeys:t.primary_keys,relationships:t.relationships},[]),a=(await (0,es.wF)({projectRef:u,connectionString:null==m?void 0:m.connectionString,table:n})).map(e=>(Object.keys(e).map(s=>{"object"==typeof e[s]&&null!==e[s]&&(e[s]=JSON.stringify(e[s]))}),e));if(a.length>0){let e=J().unparse(a,{columns:n.columns.map(e=>e.name)}),s=new Blob([e],{type:"text/csv;charset=utf-8;"});O()(s,"".concat(x.name,"_rows.csv"))}K.Am.success("Successfully exported ".concat(x.name," as CSV"),{id:e})}catch(s){K.Am.error("Failed to export table: ".concat(s.message),{id:e})}},z=async()=>{if(h.Qy&&!(null==m?void 0:m.connectionString))return console.error("Connection string is required");let e=K.Am.loading("Exporting ".concat(x.name," as SQL..."));try{var s;let t=await (0,y.hC)({id:x.id,projectRef:u,connectionString:null==m?void 0:m.connectionString});if(t.live_rows_estimate>H.kI)return K.Am.error((0,l.jsx)(en.U,{content:H.m0,className:"text-foreground"}),{id:e});let n=t&&(0,U.NK)({table:t,columns:null!==(s=t.columns)&&void 0!==s?s:[],primaryKeys:t.primary_keys,relationships:t.relationships},[]),a=(await (0,es.wF)({projectRef:u,connectionString:null==m?void 0:m.connectionString,table:n})).map(e=>(Object.keys(e).map(s=>{"object"==typeof e[s]&&null!==e[s]&&(e[s]=JSON.stringify(e[s]))}),e));if(a.length>0){let e=(0,$.k)(n,a),s=new Blob([e],{type:"text/sql;charset=utf-8;"});O()(s,"".concat(x.name,"_rows.sql"))}K.Am.success("Successfully exported ".concat(x.name," as SQL"),{id:e})}catch(s){K.Am.error("Failed to export table: ".concat(s.message),{id:e})}};return(0,l.jsxs)(Y(),{title:x.name,href:"/project/".concat(u,"/editor/").concat(x.id,"?schema=").concat(j),role:"button","aria-label":"View ".concat(x.name),className:(0,et.cn)("w-full","flex items-center gap-2","py-1 px-2","text-light","rounded-md",b?"bg-selection":"hover:bg-surface-200 focus:bg-surface-200","group","transition"),children:[(0,l.jsxs)(T.fC,{delayDuration:0,disableHoverableContent:!0,children:[(0,l.jsx)(T.xz,{className:"min-w-4",asChild:!0,children:x.type===g.l.TABLE?(0,l.jsx)(W.Z,{size:15,strokeWidth:1.5,className:(0,et.cn)("text-foreground-muted group-hover:text-foreground-lighter",b&&"text-foreground-lighter","transition-colors")}):x.type===g.l.VIEW?(0,l.jsx)(D.Z,{size:15,strokeWidth:1.5,className:(0,et.cn)("text-foreground-muted group-hover:text-foreground-lighter",b&&"text-foreground-lighter","transition-colors")}):(0,l.jsx)("div",{className:(0,et.cn)("flex items-center justify-center text-xs h-4 w-4 rounded-[2px] font-bold",x.type===g.l.FOREIGN_TABLE&&"text-yellow-900 bg-yellow-500",x.type===g.l.MATERIALIZED_VIEW&&"text-purple-1000 bg-purple-500",x.type===g.l.PARTITIONED_TABLE&&"text-foreground-light bg-border-stronger"),children:null===(n=Object.entries(g.l).find(e=>{let[,s]=e;return s===x.type}))||void 0===n?void 0:null===(t=n[0])||void 0===t?void 0:null===(s=t[0])||void 0===s?void 0:s.toUpperCase()})}),(0,l.jsx)(T.h_,{children:(0,l.jsxs)(T.VY,{side:"bottom",className:"rounded bg-alternative py-1 px-2 leading-none shadow border border-background text-xs text-foreground capitalize",children:[(0,l.jsx)(T.Eh,{className:"radix-tooltip-arrow"}),(a=x.type,null===(c=Object.entries(g.l).find(e=>{let[,s]=e;return s===a}))||void 0===c?void 0:null===(o=c[0])||void 0===o?void 0:null===(r=o.toLowerCase())||void 0===r?void 0:null===(i=r.split("_"))||void 0===i?void 0:i.join(" "))]})})]}),(0,l.jsxs)("div",{className:(0,et.cn)("truncate","overflow-hidden text-ellipsis whitespace-nowrap flex items-center gap-2 relative w-full",b&&"text-foreground"),children:[(0,l.jsx)("span",{className:(0,et.cn)(b?"text-foreground":"text-foreground-light group-hover:text-foreground","text-sm","transition","truncate"),children:x.name}),(0,l.jsx)(e=>{let{entity:s}=e,t=null;switch(s.type){case g.l.TABLE:N&&(t="RLS Disabled");break;case g.l.VIEW:w&&(t="Security Definer view");break;case g.l.MATERIALIZED_VIEW:C&&(t="Security Definer view");break;case g.l.FOREIGN_TABLE:t="RLS is not enforced on foreign tables"}return t?(0,l.jsxs)(T.fC,{delayDuration:0,disableHoverableContent:!0,children:[(0,l.jsx)(T.xz,{className:"min-w-4",asChild:!0,children:(0,l.jsx)(F.Z,{size:14,strokeWidth:2,className:(0,et.cn)("min-w-4",b?"text-warning-600":"text-warning-500")})}),(0,l.jsx)(T.h_,{children:(0,l.jsxs)(T.VY,{side:"bottom",className:"rounded bg-alternative py-1 px-2 leading-none shadow border border-background text-xs text-foreground",children:[(0,l.jsx)(T.Eh,{className:"radix-tooltip-arrow"}),t]})})]}):null},{entity:x})]}),x.type===g.l.TABLE&&b&&!p&&(0,l.jsxs)(el.h_,{children:[(0,l.jsx)(el.$F,{className:"text-foreground-lighter transition-all hover:text-foreground data-[state=open]:text-foreground",children:(0,l.jsx)(B.Z,{size:14,strokeWidth:2})}),(0,l.jsxs)(el.AW,{side:"bottom",align:"start",className:"w-44",children:[(0,l.jsxs)(el.Xi,{className:"space-x-2",onClick:e=>{e.stopPropagation(),f.onEditTable()},children:[(0,l.jsx)(P.Z,{size:12}),(0,l.jsx)("span",{children:"Edit Table"})]},"edit-table"),(0,l.jsxs)(el.Xi,{className:"space-x-2",onClick:e=>{e.stopPropagation(),f.onDuplicateTable()},children:[(0,l.jsx)(V.Z,{size:12}),(0,l.jsx)("span",{children:"Duplicate Table"})]},"duplicate-table"),(0,l.jsx)(el.Xi,{className:"space-x-2",asChild:!0,children:(0,l.jsxs)(Y(),{href:"/project/".concat(u,"/auth/policies?schema=").concat(j,"&search=").concat(x.id),children:[(0,l.jsx)(M.Z,{size:12}),(0,l.jsx)("span",{children:"View Policies"})]},"view-policies")},"view-policies"),(0,l.jsxs)(el.Ph,{children:[(0,l.jsxs)(el.kt,{className:"gap-x-2",children:[(0,l.jsx)(X.Z,{size:12}),"Export Data"]}),(0,l.jsxs)(el.TG,{children:[(0,l.jsx)(el.Xi,{className:"space-x-2",onClick:e=>{e.stopPropagation(),S()},children:(0,l.jsx)("span",{children:"Export table as CSV"})},"download-table-csv"),(0,l.jsx)(el.Xi,{className:"gap-x-2",onClick:e=>{e.stopPropagation(),z()},children:(0,l.jsx)("span",{children:"Export table as SQL"})},"download-table-sql")]})]}),(0,l.jsx)(el.VD,{}),(0,l.jsxs)(el.Xi,{className:"gap-x-2",onClick:e=>{e.stopPropagation(),f.onDeleteTable()},children:[(0,l.jsx)(Q.Z,{size:12}),(0,l.jsx)("span",{children:"Delete Table"})]},"delete-table")]})]})]})},ei=()=>{var e,s,t;let{id:i}=(0,h.UO)(),o=(0,_._2)(),{selectedSchema:c,setSelectedSchema:T}=(0,k.B)(),[I,O]=(0,a.useState)(!1),[F,W]=(0,a.useState)(""),[D,B]=(0,a.useState)(Object.values(g.l)),[P,V]=(0,w._)("table-editor-sort","alphabetical"),{project:M}=(0,L.d2)(),{data:X,isLoading:Q,isSuccess:q,isError:Y,error:G,hasNextPage:J,isFetchingNextPage:K,fetchNextPage:H}=(0,N.H)({projectRef:null==M?void 0:M.ref,connectionString:null==M?void 0:M.connectionString,schema:c,search:F.trim()||void 0,sort:P,filterTypes:D},{keepPreviousData:!!F}),U=(0,a.useMemo)(()=>null==X?void 0:X.pages.flatMap(e=>e.data.entities),[null==X?void 0:X.pages]),{data:$}=(0,v.Q)({projectRef:null==M?void 0:M.ref,connectionString:null==M?void 0:M.connectionString}),ee=null==$?void 0:$.find(e=>e.name===c),es=(0,r.Xo)(n.KA.TENANT_SQL_ADMIN_WRITE,"tables"),[et]=d()((null!=$?$:[]).sort((e,s)=>e.name.localeCompare(s.name)),e=>{var s;return C.F.includes(null!==(s=null==e?void 0:e.name)&&void 0!==s?s:"")}),el=et.some(e=>e.id===(null==ee?void 0:ee.id)),{data:en}=(0,y.yp)({projectRef:null==M?void 0:M.ref,connectionString:null==M?void 0:M.connectionString,id:Number(i)},{enabled:!!i});return(0,a.useEffect)(()=>{en&&T(en.schema)},[en]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"pt-5 flex flex-col flex-grow gap-5 h-full",style:{maxHeight:"calc(100vh - 48px)"},children:[(0,l.jsxs)("div",{className:"flex flex-col gap-y-1.5",children:[(0,l.jsx)(b.Z,{className:"mx-4",selectedSchemaName:c,onSelectSchema:e=>{W(""),T(e)},onSelectCreateSchema:()=>o.onAddSchema()}),(0,l.jsx)("div",{className:"grid gap-3 mx-4",children:el?(0,l.jsxs)(S.bZ,{children:[(0,l.jsx)(S.Cd,{className:"text-sm",children:"Viewing protected schema"}),(0,l.jsxs)(S.X,{className:"text-xs",children:[(0,l.jsx)("p",{className:"mb-2",children:"This schema is managed by Supabase and is read-only through the table editor"}),(0,l.jsx)(z.z,{type:"default",size:"tiny",onClick:()=>O(!0),children:"Learn more"})]})]}):(0,l.jsx)(f.u,{block:!0,title:"Create a new table",name:"New table",disabled:!es,size:"tiny",icon:(0,l.jsx)(u.Z,{size:14,strokeWidth:1.5,className:"text-foreground-muted"}),type:"default",className:"justify-start",onClick:o.onAddTable,tooltip:{content:{side:"bottom",text:"You need additional permissions to create tables"}},children:"New table"})})]}),(0,l.jsxs)("div",{className:"flex flex-auto flex-col gap-2 pb-4 px-2",children:[(0,l.jsxs)(A.nM,{children:[(0,l.jsx)(A.nn,{name:"search-tables","aria-labelledby":"Search tables",onChange:e=>{W(e.target.value)},value:F,placeholder:"Search tables...",children:(0,l.jsxs)(A.ZY,{value:P,onValueChange:e=>V(e),children:[(0,l.jsx)(A.IR,{value:"alphabetical",className:"flex gap-2",children:"Alphabetical"},"alphabetical"),(0,l.jsx)(A.IR,{value:"grouped-alphabetical",children:"Entity Type"},"grouped-alphabetical")]})}),(0,l.jsxs)(Z.J2,{children:[(0,l.jsx)(Z.xo,{asChild:!0,children:(0,l.jsx)(z.z,{type:5!==D.length?"default":"dashed",className:"h-[28px] px-1.5",icon:(0,l.jsx)(x.Z,{})})}),(0,l.jsx)(Z.yk,{className:"p-0 w-56",side:"bottom",align:"center",children:(0,l.jsxs)("div",{className:"px-3 pt-3 pb-2 flex flex-col gap-y-2",children:[(0,l.jsx)("p",{className:"text-xs",children:"Show entity types"}),(0,l.jsx)("div",{className:"flex flex-col",children:Object.entries(g.l).map(e=>{let[s,t]=e;return(0,l.jsxs)("div",{className:"group flex items-center justify-between py-0.5",children:[(0,l.jsxs)("div",{className:"flex items-center gap-x-2",children:[(0,l.jsx)(E.X,{id:s,name:s,checked:D.includes(t),onCheckedChange:()=>{D.includes(t)?B(D.filter(e=>e!==t)):B(D.concat([t]))}}),(0,l.jsx)(R._,{htmlFor:s,className:"capitalize text-xs",children:s.toLowerCase().replace("_"," ")})]}),(0,l.jsx)(z.z,{size:"tiny",type:"default",onClick:()=>B([t]),className:"transition opacity-0 group-hover:opacity-100 h-auto px-1 py-0.5",children:"Select only"})]},s)})})]})})]})]}),Q&&(0,l.jsx)(A.HJ,{}),Y&&(0,l.jsx)(m.Z,{error:null!=G?G:null,subject:"Failed to retrieve tables"}),q&&(0,l.jsxs)(l.Fragment,{children:[0===F.length&&(null!==(e=null==U?void 0:U.length)&&void 0!==e?e:0)<=0&&(0,l.jsx)(A.Cf,{className:"mx-2",title:"No entities available",description:"This schema has no entities available yet"}),F.length>0&&(null!==(s=null==U?void 0:U.length)&&void 0!==s?s:0)<=0&&(0,l.jsx)(A.Cf,{className:"mx-2",title:"No results found",description:'Your search for "'.concat(F,'" did not return any results')}),(null!==(t=null==U?void 0:U.length)&&void 0!==t?t:0)>0&&(0,l.jsx)("div",{className:"flex flex-1","data-testid":"tables-list",children:(0,l.jsx)(j.Z,{items:U,ItemComponent:ea,itemProps:{projectRef:null==M?void 0:M.ref,id:Number(i),isLocked:el},getItemSize:()=>28,hasNextPage:J,isLoadingNextPage:K,onLoadNextPage:()=>H()})})]})]})]}),(0,l.jsx)(p.b,{visible:I,onClose:()=>O(!1)})]})},er=e=>{let{children:s}=e,t=(0,r.N4)(),c=(0,r.Xo)(n.KA.TENANT_SQL_ADMIN_READ,"tables"),d=(0,a.useMemo)(()=>(0,l.jsx)(ei,{}),[]);return t&&!c?(0,l.jsx)(o.$,{isBlocking:!1,children:(0,l.jsx)(i.Z,{isFullPage:!0,resourceText:"view tables from this project"})}):(0,l.jsx)(o.$,{product:"Table Editor",productMenu:d,isBlocking:!1,resizableSidebar:!0,children:s})}},14782:function(e,s,t){var l=t(52322),n=t(52006);s.Z=e=>{let{resourceText:s,isFullPage:t=!1}=e,a=()=>(0,l.jsx)("div",{className:"block w-full rounded border border-opacity-20 py-4 px-6 border-overlay bg-surface-200",children:(0,l.jsxs)("div",{className:"flex space-x-3",children:[(0,l.jsx)("div",{className:"mt-1",children:(0,l.jsx)(n.Z,{size:20})}),(0,l.jsx)("div",{className:"flex w-full items-center justify-between",children:(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsxs)("p",{className:"text-sm",children:["You need additional permissions to ",s]}),(0,l.jsx)("div",{children:(0,l.jsx)("p",{className:"text-sm text-foreground-light",children:"Contact your organization owner or administrator for assistance."})})]})})]})});return t?(0,l.jsx)("div",{className:"flex h-full items-center justify-center",children:(0,l.jsx)("div",{className:"w-[550px]",children:(0,l.jsx)(a,{})})}):(0,l.jsx)(a,{})}},74138:function(e,s,t){var l=t(52322),n=t(2784),a=t(41909),i=t(54383),r=t(32079),o=t(71550);let c=(0,n.forwardRef)((e,s)=>{let{title:t,size:c="small",visible:d,onCancel:u,onConfirm:x,loading:h=!1,cancelLabel:p="Cancel",confirmLabel:m="Submit",confirmLabelLoading:f,alert:j,children:b,variant:v="default",disabled:g,...N}=e;(0,n.useEffect)(()=>{d&&w(!1)},[d]),(0,n.useEffect)(()=>{w(h)},[h]);let[y,w]=(0,n.useState)(!1);return(0,l.jsx)(a.Vq,{open:d,...N,onOpenChange:()=>{d&&u()},children:(0,l.jsxs)(a.cZ,{ref:s,className:"p-0 gap-0 pb-5 !block",size:c,children:[(0,l.jsx)(a.fK,{className:(0,i.cn)("border-b"),padding:"small",children:(0,l.jsx)(a.$N,{className:"",children:t})}),j&&(0,l.jsx)(o.J,{type:v,label:j.title,description:j.description,className:"border-r-0 border-l-0 rounded-none -mt-px [&_svg]:ml-0.5 mb-0",...null==j?void 0:j.base}),b&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(a.VO,{padding:"small",children:b}),(0,l.jsx)(a.P3,{})]}),(0,l.jsxs)("div",{className:"flex gap-2 px-5 pt-5",children:[(0,l.jsx)(r.z,{size:"medium",block:!0,type:"default",disabled:y,onClick:()=>u(),children:p}),(0,l.jsx)(r.z,{block:!0,size:"medium",type:"destructive"===v?"danger":"warning"===v?"warning":"primary",htmlType:"submit",loading:y,disabled:y||g,onClick:e=>{e.preventDefault(),e.stopPropagation(),w(!0),x()},className:"truncate",children:m})]})]})})});c.displayName="ConfirmationModal",s.Z=c},40022:function(e,s,t){t.d(s,{Cf:function(){return C},DS:function(){return v},GZ:function(){return m},HJ:function(){return k},IR:function(){return w},Qn:function(){return f},ZY:function(){return y},nM:function(){return g},nn:function(){return N},qs:function(){return b},rt:function(){return j}});var l=t(52322),n=t(68806),a=t(97234),i=t(39097),r=t.n(i),o=t(2784),c=t(55283),d=t(54383),u=t(42070),x=t(34503),h=t(2322),p=t(81384);let m=(0,o.forwardRef)((e,s)=>{let{...t}=e;return(0,l.jsx)(c.zF,{...t,className:(0,d.cn)("w-full px-2",t.className)})}),f=(0,o.forwardRef)((e,s)=>{let{...t}=e;return(0,l.jsx)(c.wy,{disabled:!0,ref:s,...t,className:(0,d.cn)("w-full flex gap-1 items-center group px-3 text-xs font-normal font-mono uppercase text-lighter tracking-wide",t.className),children:(0,l.jsx)("span",{className:"group-hover:not-disabled:text-foreground",children:t.title})})}),j=(0,o.forwardRef)((e,s)=>{let{...t}=e;return(0,l.jsx)(c.Fw,{...t,className:(0,d.cn)("w-full data-[state=open]:pt-1 flex flex-col gap-2",t.className)})}),b=(0,o.forwardRef)((e,s)=>(0,l.jsx)("div",{ref:s,...e,className:(0,d.cn)("h-px bg-border-muted",e.className)})),v=(0,o.forwardRef)((e,s)=>{let{className:t,isActive:n,forceHoverState:a,...i}=e;return(0,l.jsx)(r(),{ref:s,...i,"aria-current":n,className:(0,d.cn)("text-sm","h-7 pl-3 pr-2","flex items-center justify-between rounded-md group relative",n?"bg-selection":"hover:bg-surface-200",a&&"bg-surface-200",n?"text-foreground":"text-foreground-light hover:text-foreground",t)})}),g=(0,o.forwardRef)((e,s)=>(0,l.jsx)("div",{ref:s,...e,className:(0,d.cn)("flex px-2 gap-2 items-center",e.className)})),N=(0,o.forwardRef)((e,s)=>{let{children:t,...a}=e;return(0,l.jsxs)("label",{htmlFor:a.name,className:"relative w-full",children:[(0,l.jsx)("span",{className:"sr-only",children:a["aria-labelledby"]}),(0,l.jsx)(u.I,{ref:s,type:"text",className:(0,d.cn)("h-[28px] w-full","text-xs","pl-7","pr-7","w-full","rounded",a.className),...a}),t,(0,l.jsx)(n.Z,{className:"absolute left-2 top-2 text-foreground-muted",size:14,strokeWidth:1.5})]})}),y=(0,o.forwardRef)((e,s)=>{let{value:t,onValueChange:n,contentClassName:i,triggerClassName:r,...o}=e;return(0,l.jsxs)(x.h_,{modal:!1,children:[(0,l.jsxs)(h.u,{delayDuration:0,children:[(0,l.jsx)(x.$F,{asChild:!0,className:(0,d.cn)("absolute right-1 top-[.3rem]","text-foreground-muted transition-colors hover:text-foreground data-[state=open]:text-foreground",r),children:(0,l.jsx)(h.aJ,{children:(0,l.jsx)(a.Z,{size:18,strokeWidth:1})})}),(0,l.jsx)(h._v,{side:"bottom",children:"Sort By"})]}),(0,l.jsx)(x.AW,{side:"bottom",align:"end",className:(0,d.cn)("w-48",i),children:(0,l.jsx)(x._x,{value:t,onValueChange:n,children:o.children})})]})}),w=(0,o.forwardRef)((e,s)=>(0,l.jsx)(x.qB,{ref:s,...e})),k=(0,o.forwardRef)((e,s)=>(0,l.jsxs)("div",{ref:s,...e,className:(0,d.cn)("flex flex-col px-2 gap-1 pb-4",e.className),children:[(0,l.jsx)(p.Z,{className:"w-full h-7 rounded-md",delayIndex:0}),(0,l.jsx)(p.Z,{className:"w-full h-7 rounded-md",delayIndex:1}),(0,l.jsx)(p.Z,{className:"w-full h-7 rounded-md",delayIndex:2})]})),C=(0,o.forwardRef)((e,s)=>{let{illustration:t,title:n,description:a,actions:i,...r}=e;return(0,l.jsx)("div",{ref:s,...r,className:(0,d.cn)("border bg-surface-100/50 flex flex-col gap-y-3 items-center justify-center rounded-md px-3 py-4",r.className),children:(0,l.jsxs)("div",{className:"flex flex-col gap-y-1 items-center justify-center",children:[t,n&&(0,l.jsx)("p",{className:"text-xs text-foreground-light",children:n}),a&&(0,l.jsx)("p",{className:"text-xs text-foreground-lighter text-center",children:a}),i&&(0,l.jsx)("div",{className:"mt-2",children:i})]})})})},48869:function(e,s,t){t.d(s,{b:function(){return x}});var l=t(52322),n=t(2784),a=t(46318),i=t(85563),r=t(38187),o=t(67815),c=t(82137),d=t(8609);let u={danger:(0,l.jsx)(i.Z,{strokeWidth:1.5,size:18}),success:(0,l.jsx)(r.Z,{strokeWidth:1.5,size:18}),warning:(0,l.jsx)(o.Z,{strokeWidth:1.5,size:18}),info:(0,l.jsx)(c.Z,{strokeWidth:1.5,size:18}),neutral:(0,l.jsx)(l.Fragment,{})};function x(e){let{variant:s="neutral",className:t,title:i,withIcon:r,closable:o,children:c,icon:x,actions:h}=e,p=(0,a.Z)("alert"),[m,f]=(0,n.useState)(!0),j=[p.base];j.push(p.variant[s].base),t&&j.push(t);let b=[p.description,p.variant[s].description],v=[p.close];return(0,l.jsx)(l.Fragment,{children:m&&(0,l.jsxs)("div",{className:j.join(" "),children:[r?(0,l.jsx)("div",{className:p.variant[s].icon,children:r&&u[s]}):null,x&&x,(0,l.jsxs)("div",{className:"flex flex-1 items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:[p.variant[s].header,p.header].join(" "),children:i}),(0,l.jsx)("div",{className:b.join(" "),children:c})]}),h]}),o&&(0,l.jsx)("button",{"aria-label":"Close alert",onClick:()=>f(!1),className:v.join(" "),children:(0,l.jsx)(d.Z,{strokeWidth:2,size:16})})]})})}},12934:function(e,s,t){t.d(s,{Z:function(){return d}});var l=t(52322),n=t(2784),a=t(25001),i=t(46318),r=t(70780);let o=(0,n.createContext)({parentCallback:e=>{},parentSize:""});function c(e){let{className:s,id:t="",name:n="",label:a,afterLabel:c,beforeLabel:d,description:u,checked:x,value:h,onChange:p,onBlur:m,size:f="medium",disabled:j=!1,...b}=e,{formContextOnChange:v,values:g,handleBlur:N}=(0,r.G)(),y=(0,i.Z)("checkbox");return(0,l.jsx)(o.Consumer,{children:e=>{let{parentCallback:i,parentSize:r}=e,o=t||n||(a?a.toLowerCase().replace(/^[^A-Z0-9]+/gi,"").replace(/ /g,"-"):void 0);f=r||f;let w=n||o,k=null!=x?x:void 0,C=[y.container];return s&&C.push(s),g&&void 0===x&&(k=g[t||n]),(0,l.jsxs)("div",{className:C.join(" "),children:[(0,l.jsx)("input",{id:o,name:w,type:"checkbox",className:[y.base,y.size[f]].join(" "),onChange:function(e){i&&i(e),p&&p(e),v&&v(e)},onBlur:function(e){N&&setTimeout(()=>{N(e)},100),m&&m(e)},checked:k,value:h||o,disabled:j,...b}),(0,l.jsxs)("label",{className:[y.label.base,y.label[f]].join(" "),htmlFor:o,children:[(0,l.jsxs)("span",{children:[d&&(0,l.jsx)("span",{className:[y.label_before.base,y.label_before[f]].join(" "),children:d}),a,c&&(0,l.jsx)("span",{className:[y.label_after.base,y.label_after[f]].join(" "),children:c})]}),u&&(0,l.jsx)("p",{className:[y.description.base,y.description[f]].join(" "),children:u})]})]})}})}c.Group=function(e){let{id:s,layout:t="vertical",error:n,descriptionText:r,label:d,afterLabel:u,beforeLabel:x,labelOptional:h,children:p,className:m,options:f,onChange:j,size:b="medium"}=e,v=(0,i.Z)("checkbox");return(0,l.jsx)(a.l,{label:d,afterLabel:u,beforeLabel:x,labelOptional:h,layout:t,id:s,error:n,descriptionText:r,className:m,size:b,children:(0,l.jsx)(o.Provider,{value:{parentCallback:e=>{j&&j(e)},parentSize:b},children:(0,l.jsx)("div",{className:v.group,children:f?f.map(e=>(0,l.jsx)(c,{id:e.id,value:e.value,label:e.label,beforeLabel:e.beforeLabel,afterLabel:e.afterLabel,checked:e.checked,name:e.name,description:e.description,defaultChecked:e.defaultChecked},e.id)):p})})})};var d=c},62284:function(e,s,t){t.d(s,{Z:function(){return j}});var l=t(52322),n=t(40538),a=t(35676),i=t.n(a),r=t(2784),o=t(25001),c=t(71653),d=t(67440),u=t(46318),x=t(54383),h=t(70780);let p=(0,r.createContext)({onChange:e=>{},selected:void 0});var m=t(76141);function f(e){let{children:s,className:t,buttonClassName:a,descriptionText:m,error:f,icon:j,id:b="",name:v="",label:g,labelOptional:N,layout:y,value:w,onChange:k,onFocus:C,onBlur:_,style:S,size:z="medium",defaultValue:Z,validation:E,disabled:R,optionsWidth:A}=e,[L,T]=(0,r.useState)(void 0),[I,O]=(0,r.useState)({}),F=(0,u.Z)("listbox"),W=(0,r.useRef)(null),{formContextOnChange:D,values:B,errors:P,handleBlur:V,touched:M,fieldLevelValidation:X}=(0,h.G)();B&&!w&&(w=B[b||v],Z=B[b||v]),f||(P&&!f&&(f=P[b||v]),f=M&&M[b||v]?f:void 0),(0,r.useEffect)(()=>{void 0!==w&&T(w)},[w]),(0,r.useEffect)(()=>{function e(){var e;document.documentElement.style.setProperty("--width-listbox","".concat(A||(null===(e=W.current)||void 0===e?void 0:e.offsetWidth),"px"))}return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)},[]),(0,r.useEffect)(()=>{var e;let t=i()(s);function l(e){return t.find(s=>s.props.value===e)}if(w){T(w);let e=l(w);O((null==e?void 0:e.props)?e.props:void 0);return}if(L){let e=l(L);O((null==e?void 0:e.props)?e.props:void 0);return}if(Z){T(Z);let e=l(L);O((null==e?void 0:e.props)?e.props:void 0);return}O(null===(e=t[0])||void 0===e?void 0:e.props)},[L]);let Q=[F.container,F.base,a],q=[F.addOnBefore];return f&&Q.push(F.variants.error),f||Q.push(F.variants.standard),j&&q.push(F.with_icon),z&&Q.push(F.size[z]),R&&Q.push(F.disabled),(0,l.jsx)(o.l,{label:g,labelOptional:N,layout:y,id:b,error:f,descriptionText:m,className:t,style:S,size:z,children:(0,l.jsxs)(n.fC,{children:[(0,l.jsx)(n.xz,{asChild:!0,disabled:R,children:(0,l.jsxs)("button",{"data-size":z,ref:W,className:(0,x.cn)(Q),onBlur:function(e){V&&V(e),_&&_(e)},onFocus:C,name:v,id:b,children:[(0,l.jsxs)("span",{className:(0,x.cn)(q),children:[j&&(0,l.jsx)(d.Z,{size:z,icon:j}),(null==I?void 0:I.addOnBefore)&&(0,l.jsx)(I.addOnBefore,{}),(0,l.jsx)("span",{className:F.label,children:null==I?void 0:I.label})]}),(0,l.jsx)("span",{className:F.chevron_container,children:(0,l.jsx)("svg",{className:F.chevron,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M10 3a1 1 0 01.707.293l3 3a1 1 0 01-1.414 1.414L10 5.414 7.707 7.707a1 1 0 01-1.414-1.414l3-3A1 1 0 0110 3zm-3.707 9.293a1 1 0 011.414 0L10 14.586l2.293-2.293a1 1 0 011.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})})}),f&&(0,l.jsx)("div",{className:F.actions_container,children:f&&(0,l.jsx)(c.Z,{size:z})})]})}),(0,l.jsx)(n.VY,{sideOffset:6,loop:!0,side:"bottom",align:"center",className:F.options_container,children:(0,l.jsx)("div",{children:(0,l.jsx)(p.Provider,{value:{onChange:function(e){k&&k(e),T(e);let s={};s.target={type:"select",name:v,id:b,value:e,checked:void 0},D&&D(s),E&&X(b,E(e))},selected:L},children:s})})})]})})}f.Option=function(e){let{id:s,value:t,label:a,disabled:i=!1,children:r,className:o="",addOnBefore:c}=e,d=(0,u.Z)("listbox");return(0,l.jsx)(p.Consumer,{children:e=>{let{onChange:a,selected:u}=e,h=u===t;return(0,l.jsxs)(n.ck,{className:(0,x.cn)(d.option,h?d.option_active:" ",i?d.option_disabled:" ",o),onSelect:()=>i?{}:a(t),children:[(0,l.jsxs)("div",{className:d.option_inner,children:[c&&c({active:h,selected:u}),(0,l.jsx)("span",{children:"function"==typeof r?r({active:h,selected:u}):r})]}),h?(0,l.jsx)("span",{className:(0,x.cn)(d.option_check,h?d.option_check_active:""),children:(0,l.jsx)(m.Z,{className:d.option_check_icon,"aria-hidden":"true"})}):null]},s)}})};var j=f}}]);