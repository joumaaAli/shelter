(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3327],{65338:function(e){e.exports=function(e,t,n,r){for(var s=-1,i=null==e?0:e.length;++s<i;){var a=e[s];t(r,a,n(a),e)}return r}},12825:function(e,t,n){var r=n(24303);e.exports=function(e,t,n,s){return r(e,function(e,r,i){t(s,e,n(e),i)}),s}},13940:function(e,t,n){var r=n(83043);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},24303:function(e,t,n){var r=n(26548),s=n(92019)(r);e.exports=s},15308:function(e,t,n){var r=n(55463)();e.exports=r},26548:function(e,t,n){var r=n(15308),s=n(90249);e.exports=function(e,t){return e&&r(e,t,s)}},36740:function(e,t,n){var r=n(65338),s=n(12825),i=n(68286),a=n(86152);e.exports=function(e,t){return function(n,l){var c=a(n)?r:s,o=t?t():{};return c(n,e,i(l,2),o)}}},92019:function(e,t,n){var r=n(67878);e.exports=function(e,t){return function(n,s){if(null==n)return n;if(!r(n))return e(n,s);for(var i=n.length,a=t?i:-1,l=Object(n);(t?a--:++a<i)&&!1!==s(l[a],a,l););return n}}},55463:function(e){e.exports=function(e){return function(t,n,r){for(var s=-1,i=Object(t),a=r(t),l=a.length;l--;){var c=a[e?l:++s];if(!1===n(i[c],c,i))break}return t}}},83043:function(e,t,n){var r=n(38761),s=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=s},3440:function(e,t,n){var r=n(13940),s=n(36740),i=Object.prototype.hasOwnProperty,a=s(function(e,t,n){i.call(e,n)?e[n].push(t):r(e,n,[t])});e.exports=a},79606:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/projects",function(){return n(68904)}])},82718:function(e,t,n){"use strict";n.d(t,{v:function(){return l}});var r=n(36492),s=n(31696),i=n(99445);async function a(e,t){let{orgSlug:n,projectRef:r,start:i,end:a}=e;if(!n)throw Error("orgSlug is required");let{data:l,error:c}=await (0,s.U2)("/platform/organizations/{slug}/usage",{params:{path:{slug:n},query:{project_ref:r,start:null==i?void 0:i.toISOString(),end:null==a?void 0:a.toISOString()}},signal:t});return c&&(0,s.S3)(c),l}let l=function(e){let{orgSlug:t,projectRef:n,start:s,end:l}=e,{enabled:c=!0,...o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,r.a)(i.Z.orgUsage(t,n,null==s?void 0:s.toISOString(),null==l?void 0:l.toISOString()),e=>{let{signal:r}=e;return a({orgSlug:t,projectRef:n,start:s,end:l},r)},{enabled:c&&void 0!==t,...o})}},68904:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return A}});var r=n(52322),s=n(5632),i=n(2784),a=n(3610),l=n(68806),c=n(23915),o=n(39097),u=n.n(o),d=n(99959),f=n(31310),h=n(40654),p=n(99248),x=n(45077),g=n(34503),j=n(32079),v=n(750),m=n(61786),y=n(71640),N=n(6112),_=e=>{let{organizations:t=x.Z6,search:n,filterStatus:i,setSearch:a,setFilterStatus:o}=e,_=(0,s.useRouter)(),S=(0,h.N)("organizations:create"),{isSuccess:w}=(0,f.tl)();return(0,r.jsxs)("div",{className:"flex gap-x-3",children:[(0,r.jsxs)(g.h_,{children:[(0,r.jsx)(g.$F,{asChild:!0,children:(0,r.jsx)(j.z,{type:"primary",children:(0,r.jsx)("span",{children:"New project"})})}),(0,r.jsx)(g.AW,{side:"bottom",align:"center",children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(g.Ju,{children:"Choose organization"}),t.sort((e,t)=>e.name.localeCompare(t.name)).map(e=>(0,r.jsx)(g.Xi,{onClick:()=>_.push("/new/".concat(e.slug)),children:e.name},e.slug))]})})]}),d.Qy&&S&&w&&(0,r.jsx)(j.z,{type:"default",asChild:!0,children:(0,r.jsx)(u(),{href:"/new",className:"flex items-center gap-2",children:"New organization"})}),(0,r.jsxs)("div",{className:"flex items-center gap-x-2",children:[(0,r.jsx)(v.Z,{size:"tiny",placeholder:"Search for a project",icon:(0,r.jsx)(l.Z,{size:16}),className:"w-64 [&>div>div>div>input]:!pl-7 [&>div>div>div>div]:!pl-2",value:n,onChange:e=>a(e.target.value)}),(0,r.jsxs)(m.J2,{children:[(0,r.jsx)(m.xo,{asChild:!0,children:(0,r.jsx)(j.z,{type:2!==i.length?"secondary":"dashed",className:"h-[26px] w-[26px]",icon:(0,r.jsx)(c.Z,{})})}),(0,r.jsx)(m.yk,{className:"p-0 w-56",side:"bottom",align:"center",children:(0,r.jsxs)("div",{className:"px-3 pt-3 pb-2 flex flex-col gap-y-2",children:[(0,r.jsx)("p",{className:"text-xs",children:"Filter projects by status"}),(0,r.jsx)("div",{className:"flex flex-col",children:[{key:p.S.ACTIVE_HEALTHY,label:"Active"},{key:p.S.INACTIVE,label:"Paused"}].map(e=>{let{key:t,label:n}=e;return(0,r.jsxs)("div",{className:"group flex items-center justify-between py-0.5",children:[(0,r.jsxs)("div",{className:"flex items-center gap-x-2",children:[(0,r.jsx)(y.X,{id:t,name:t,checked:i.includes(t),onCheckedChange:()=>{i.includes(t)?o(i.filter(e=>e!==t)):o(i.concat([t]))}}),(0,r.jsx)(N._,{htmlFor:t,className:"capitalize text-xs",children:n})]}),(0,r.jsx)(j.z,{size:"tiny",type:"default",onClick:()=>o([t]),className:"transition opacity-0 group-hover:opacity-100 h-auto px-1 py-0.5",children:"Select only"})]},t)})})]})})]})]})]})},S=n(32998),w=n(56006),b=n(25733),C=n(26198),I=n(75939);let E=()=>{let e=(0,s.useRouter)(),[t,n]=(0,i.useState)(""),[l,c]=(0,i.useState)([p.S.ACTIVE_HEALTHY,p.S.INACTIVE]),{data:o,isError:u,isSuccess:d}=(0,f.tl)();(0,C.sc)();let x=(0,h.N)("projects:create"),g=(0,I.P)("navigationLayoutV2"),j=(0,I.P)("orgCreationExperimentGroup");return(0,i.useEffect)(()=>{if(g&&d){let t=localStorage.getItem(p.dA.RECENTLY_VISITED_ORGANIZATION),n=o.some(e=>e.slug===t);0===o.length?e.push("/new"):t&&n?e.push("/org/".concat(t)):e.push("/org/".concat(o[0].slug))}if("group-b"===j&&!g&&d){let t=0===o.length,n=localStorage.getItem(p.dA.UI_ONBOARDING_NEW_PAGE_SHOWN);t&&!n&&(localStorage.setItem(p.dA.UI_ONBOARDING_NEW_PAGE_SHOWN,"true"),e.push("/new"))}},[g,d,!0]),(0,r.jsxs)(r.Fragment,{children:[u&&(0,r.jsx)("div",{className:"py-4 px-5 ".concat(g?"h-full flex items-center justify-center":""),children:(0,r.jsx)(w.Z,{subject:"Failed to retrieve organizations"})}),g&&(0,r.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,r.jsx)(b.Z,{})}),!g&&(0,r.jsxs)("div",{className:"p-5",children:[p.Qy&&x&&d&&(0,r.jsx)(_,{search:t,filterStatus:l,setSearch:n,setFilterStatus:c,organizations:o}),(0,r.jsx)("div",{className:"my-6 space-y-8",children:(0,r.jsx)(a.l,{search:t,filterStatus:l,resetFilterStatus:()=>c(["ACTIVE_HEALTHY","INACTIVE"])})})]})]})};E.getLayout=e=>(0,r.jsx)(S.Z,{title:"Dashboard",breadcrumbs:[{key:"supabase-projects",label:"Projects"}],children:e});var A=E},94299:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,n(46145).Z)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},23915:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,n(46145).Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},25733:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(52322),s=n(18209),i=n.n(s),a=()=>(0,r.jsx)("div",{className:"w-full h-full flex flex-col items-center justify-center",children:(0,r.jsx)("div",{children:(0,r.jsx)("svg",{width:"60",height:"62",viewBox:"0 0 60 62",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:i().loading,children:(0,r.jsx)("path",{d:"M30.2571 4.12811L30.257 4.12389C30.2133 1.21067 26.5349 -0.034778 24.7224 2.24311L1.76109 31.0996C-1.21104 34.8348 1.45637 40.34 6.23131 40.34H29.4845L29.7563 58.4432C29.8 61.3564 33.4783 62.6016 35.2908 60.324L34.8996 60.0127L35.2908 60.324L58.2521 31.4674C61.2241 27.7322 58.5568 22.227 53.782 22.227H30.3762L30.2571 4.12811Z",stroke:"hsl(var(--brand-default))",strokeWidth:2,strokeLinecap:"round"})})})})},18209:function(e){e.exports={loading:"loading-anim_loading__rDN7u",dash:"loading-anim_dash__HIPR0"}}},function(e){e.O(0,[8421,8183,6334,5746,2474,5590,6128,6875,3269,8507,9428,2998,7146,2391,2888,9774,179],function(){return e(e.s=79606)}),_N_E=e.O()}]);