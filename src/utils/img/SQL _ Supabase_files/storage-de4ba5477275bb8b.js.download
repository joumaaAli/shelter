(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7940],{40370:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/project/[ref]/settings/storage",function(){return s(30781)}])},79067:function(e,t,s){"use strict";s.d(t,{Z:function(){return p}});var a=s(52322),r=s(5632),n=s(2784),l=s(99959),i=s(34056),o=s(40654),c=s(89823),d=s(26211),u=s(3373),f=s(99248),x=s(4689);let m=(e,t,s,a)=>{var r,n,l,i,o;let c=(null==t?void 0:t.status)===f.S.COMING_UP,d="/project/".concat(e),u=null===(r=null==a?void 0:a.auth)||void 0===r||r,x=null===(n=null==a?void 0:a.edgeFunctions)||void 0===n||n,m=null===(l=null==a?void 0:a.storage)||void 0===l||l,h=null!==(i=null==a?void 0:a.warehouse)&&void 0!==i&&i,p=null!==(o=null==a?void 0:a.logDrains)&&void 0!==o&&o;return[{title:"Project Settings",items:[{name:"General",key:"general",url:"/project/".concat(e,"/settings/general"),items:[]},{name:"Infrastructure",key:"infrastructure",url:c?d:"/project/".concat(e,"/settings/infrastructure"),items:[]},...f.Qy?[{name:"Integrations",key:"integrations",url:"/project/".concat(e,"/settings/integrations"),items:[]}]:[],{name:"Add Ons",key:"addons",url:"/project/".concat(e,"/settings/addons"),items:[]},{name:"Vault",key:"vault",url:c?d:"/project/".concat(e,"/settings/vault/secrets"),items:[],label:"BETA"}]},{title:"Configuration",items:[{name:"Database",key:"database",url:c?d:"/project/".concat(e,"/settings/database"),items:[]},{name:"API",key:"api",url:c?d:"/project/".concat(e,"/settings/api"),items:[]},...f.Qy&&u?[{name:"Authentication",key:"auth",url:c?d:"/project/".concat(e,"/settings/auth"),items:[]}]:[],...f.Qy&&m?[{name:"Storage",key:"storage",url:"/project/".concat(e,"/settings/storage"),items:[]}]:[],...f.Qy&&x?[{name:"Edge Functions",key:"functions",url:"/project/".concat(e,"/settings/functions"),items:[]}]:[],...f.Qy&&h?[{name:"Warehouse",key:"warehouse",url:"/project/".concat(e,"/settings/warehouse"),items:[]}]:[],...f.Qy&&p?[{name:"Log Drains",key:"log-drains",url:"/project/".concat(e,"/settings/log-drains"),items:[]}]:[]]},{title:"Billing",items:[{name:"Subscription",key:"subscription",url:"/org/".concat(null==s?void 0:s.slug,"/billing"),items:[]},{name:"Usage",key:"usage",url:"/org/".concat(null==s?void 0:s.slug,"/usage?projectRef=").concat(e),items:[]}]}]};var h=s(75939),p=(0,u.Q)(e=>{let{title:t,children:s}=e,u=(0,r.useRouter)(),{ref:p}=(0,l.UO)(),g=(0,d.V)(),j=(0,c.l)();(0,n.useEffect)(()=>{f.Qy||u.push("/project/default")},[u]);let y=u.pathname.includes("billing")?u.pathname.split("/")[5]:u.pathname.split("/")[4],{projectAuthAll:v,projectEdgeFunctionAll:N,projectStorageAll:b,billingInvoices:w}=(0,o.N)(["project_auth:all","project_edge_function:all","project_storage:all","billing:invoices"]),S=m(p,g,j,{auth:v,edgeFunctions:N,storage:b,invoices:w,warehouse:(0,h.P)("warehouse"),logDrains:(0,h.P)("logdrains")});return(0,a.jsx)(x.Z,{isBlocking:!1,title:t||"Settings",product:"Settings",productMenu:(0,a.jsx)(i.Q,{page:y,menu:S}),children:(0,a.jsx)("main",{style:{maxHeight:"100vh"},className:"flex-1 overflow-y-auto",children:s})})})},74178:function(e,t,s){"use strict";s.d(t,{CG:function(){return m},FW:function(){return d},I7:function(){return f},Lc:function(){return p},Wv:function(){return j},_S:function(){return u},g$:function(){return h},gW:function(){return v},jX:function(){return x},q7:function(){return c},tM:function(){return g},tU:function(){return o},ur:function(){return y}});var a=s(52322),r=s(2784),n=s(54383);let l="mx-auto w-full max-w-[1200px]",i="px-6 lg:px-14 xl:px-24 2xl:px-32",o=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("header",{...r,ref:t,className:(0,n.cn)("w-full","flex-col gap-3 py-6",s)})}),c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("h1",{ref:t,...r,className:(0,n.cn)("text-2xl",s)})}),d=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("span",{ref:t,...r,className:(0,n.cn)("text-sm text-foreground-light",s)})}),u=r.forwardRef((e,t)=>{let{className:s,bottomPadding:r,...o}=e;return(0,a.jsx)("div",{ref:t,...o,className:(0,n.cn)(l,i,r&&"pb-16",s)})}),f=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,...r,className:(0,n.cn)("w-full h-px bg-border",s)})}),x=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,...r,className:(0,n.cn)("flex flex-col gap-3 py-6","lg:grid md:grid-cols-12 lg:py-12",s)})}),m=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,...r,className:(0,n.cn)("flex flex-col gap-3","min-w-[420px]",s)})}),h=r.forwardRef((e,t)=>{let{className:s,children:r,title:l,...i}=e;return(0,a.jsxs)("div",{ref:t,...i,className:(0,n.cn)("col-span-4 xl:col-span-5 prose text-sm",s),children:[l&&(0,a.jsx)("h2",{children:l}),r]})}),p=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,...r,className:(0,n.cn)("col-span-8 xl:col-span-7","flex flex-col gap-6",s)})}),g=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,...r,className:(0,n.cn)("flex flex-col gap-3 items-center",s)})}),j=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,...r,className:(0,n.cn)("flex w-full items-center",s)})}),y=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,...r,className:(0,n.cn)("flex flex-row gap-3",s)})}),v=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,...r,className:(0,n.cn)(l,i,"my-8 flex flex-col gap-8",s)})});o.displayName="ScaffoldHeader",c.displayName="ScaffoldTitle",d.displayName="ScaffoldDescription",u.displayName="ScaffoldContainer",f.displayName="ScaffoldDivider",x.displayName="ScaffoldSection",m.displayName="ScaffoldColumn",h.displayName="ScaffoldSectionDetail",p.displayName="ScaffoldSectionContent",g.displayName="ScaffoldFilterAndContent",j.displayName="ScaffoldActionsContainer",y.displayName="ScaffoldActionsGroup",v.displayName="ScaffoldContainerLegacy"},15998:function(e,t,s){"use strict";var a=s(52322),r=s(76141),n=s(7774),l=s(2784),i=s(82955),o=s(32079);t.Z=e=>{let{text:t,iconOnly:s=!1,children:c,onClick:d,copyLabel:u="Copy",copiedLabel:f="Copied",...x}=e,[m,h]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{if(!m)return;let e=setTimeout(()=>h(!1),2e3);return()=>clearTimeout(e)},[m]),(0,a.jsx)(o.z,{onClick:async e=>{h(!0),await (0,i.vQ)(t),null==d||d(e)},icon:m?(0,a.jsx)(r.Z,{strokeWidth:2,className:"text-brand"}):(0,a.jsx)(n.Z,{}),...x,children:!s&&(0,a.jsx)(a.Fragment,{children:null!=c?c:m?f:u})})}},70987:function(e,t,s){"use strict";s.d(t,{p:function(){return u}});var a=s(52322),r=s(17172),n=s(39097),l=s.n(n),i=s(14048),o=s(80435),c=s(54383),d=s(32079);let u=e=>{let{title:t,description:s,docsUrl:n,actions:u,className:f}=e;return(0,a.jsxs)("div",{className:(0,c.cn)("mb-6 flex items-center justify-between ".concat(f)),children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("h3",{className:"text-foreground text-xl",children:(0,a.jsx)(i.D,{unwrapDisallowed:!0,disallowedElements:["p"],children:t})}),s&&(0,a.jsx)(o.U,{content:s,className:"max-w-full"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-x-2",children:[void 0!==n&&(0,a.jsx)(d.z,{asChild:!0,type:"default",icon:(0,a.jsx)(r.Z,{}),children:(0,a.jsx)(l(),{href:n,target:"_blank",rel:"noreferrer",children:"Documentation"})}),u]})]})}},34056:function(e,t,s){"use strict";s.d(t,{Q:function(){return d}});var a=s(52322),r=s(3085),n=s(81076),l=s(39097),i=s.n(l),o=s(32079),c=e=>{let{name:t="",isActive:s,isExternal:l,icon:c,rightIcon:d,url:u="",target:f="_self",onClick:x,textClassName:m="",hoverText:h="",label:p}=e,g=(0,a.jsx)(r.ZP.Item,{icon:c,rounded:!0,active:s,onClick:x,children:(0,a.jsxs)("div",{className:"flex w-full items-center justify-between gap-1",children:[(0,a.jsxs)("div",{title:h||("string"==typeof t?t:""),className:"flex items-center gap-2 truncate w-full "+m,children:[(0,a.jsxs)("span",{className:"truncate",children:[t," "]}),void 0!==p&&(0,a.jsx)(n.C,{variant:"warning",children:p})]}),d&&(0,a.jsx)("div",{children:d})]})});return u?l?(0,a.jsx)(o.z,{asChild:!0,block:!0,className:"!justify-start",type:"text",size:"small",icon:c,children:(0,a.jsx)(i(),{href:u,target:"_blank",rel:"noreferrer",children:t})}):(0,a.jsx)(i(),{href:u,className:"block",target:f,children:g}):g},d=e=>{let{page:t,menu:s}=e;return(0,a.jsx)("div",{className:"flex flex-col space-y-8 overflow-y-auto",children:(0,a.jsx)(r.ZP,{type:"pills",children:s.map((e,l)=>(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"my-6 space-y-8",children:(0,a.jsxs)("div",{className:"mx-3",children:[(0,a.jsx)(r.ZP.Group,{title:e.title?(0,a.jsxs)("div",{className:"flex flex-col space-y-2 uppercase font-mono",children:[(0,a.jsx)("span",{children:e.title}),e.isPreview&&(0,a.jsx)(n.C,{variant:"warning",children:"Not production ready"})]}):null}),(0,a.jsx)("div",{children:e.items.map(e=>(0,a.jsx)(c,{url:e.url,name:e.name,icon:e.icon,rightIcon:e.rightIcon,isActive:t===e.key,isExternal:e.isExternal,target:e.isExternal?"_blank":"_self",label:e.label},e.key))})]})}),l!==s.length-1&&(0,a.jsx)("div",{className:"h-px w-full bg-border-overlay"})]},e.key||e.title))})})}},30781:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return et}});var a=s(52322),r=s(79067),n=s(74178),l=s(32177),i=s(59491),o=s(95492),c=s(39097),d=s.n(c),u=s(2784),f=s(99959),x=s(27570),m=s(15735),h=s(70987),p=s(14782),g=s(64306),j=s(53535),y=s(36492),v=s(31696);let N=e=>["projects",e,"storage-credentials"];async function b(e,t){let{projectRef:s}=e;if(!s)throw Error("projectRef is required");let{data:a,error:r}=await (0,v.U2)("/platform/storage/{ref}/credentials",{params:{path:{ref:s}},signal:t});return r&&(0,v.S3)(r),a}let w=function(e){let{projectRef:t}=e,{enabled:s=!0,...a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,y.a)(N(t),e=>{let{signal:s}=e;return b({projectRef:t},s)},{enabled:s&&void 0!==t,...a})};var S=s(87175),k=s(32079),C=s(81384),_=s(29059),z=s(37970),R=s(87668),D=s(88883),Z=s(63955),E=s(30195),F=s(22574),I=s(85945),A=s(48228),T=s(56958);let O=async e=>{let{description:t,projectRef:s}=e;if(!s)throw Error("projectRef is required");let{data:a,error:r}=await (0,v.v_)("/platform/storage/{ref}/credentials",{params:{path:{ref:s}},body:{description:t}});return r&&(0,v.S3)(r),a};var V=s(41909),M=s(2322);let L=e=>{let{visible:t,onOpenChange:s}=e,{ref:r}=(0,f.UO)(),n=(0,x.gY)(),[l,o]=(0,u.useState)(!1),c=(0,S.Xo)(i.KA.STORAGE_ADMIN_WRITE,"*"),d=E.z.object({description:E.z.string().min(3,{message:"Description must be at least 3 characters long"})}),m=(0,Z.cI)({resolver:(0,D.F)(d),defaultValues:{description:""}}),{data:h,mutate:p,isLoading:g}=function(){let{onSuccess:e,onError:t,...s}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=(0,I.NL)();return(0,A.D)(e=>O(e),{async onSuccess(t,s,r){let{projectRef:n}=s;await a.invalidateQueries(N(n)),await (null==e?void 0:e(t,s,r))},async onError(e,s,a){void 0===t?T.Am.error("Failed to create S3 access key: ".concat(e.message)):t(e,s,a)},...s})}({onSuccess:()=>{o(!0),m.reset()}});async function j(e){p({projectRef:r,...e})}return(0,a.jsxs)(V.Vq,{open:t,onOpenChange:e=>{s(e),e||o(!1)},children:[(0,a.jsxs)(M.u,{children:[(0,a.jsx)(M.aJ,{asChild:!0,children:(0,a.jsx)(V.hg,{asChild:!0,children:(0,a.jsx)(k.z,{type:"default",disabled:!n||!c,className:"pointer-events-auto",children:"New access key"})})}),(!n||!c)&&(0,a.jsx)(M._v,{side:"bottom",children:n?c?"":"You need additional permissions to create new access keys":"Restore your project to create new access keys"})]}),(0,a.jsx)(V.cZ,{onInteractOutside:e=>{l&&e.preventDefault()},children:l?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(V.fK,{children:[(0,a.jsx)(V.$N,{children:"Save your new S3 access keys"}),(0,a.jsx)(V.Be,{children:"You won't be able to see them again. If you lose these access keys, you'll need to create a new ones."})]}),(0,a.jsx)(V.P3,{}),(0,a.jsxs)(V.VO,{className:"flex flex-col gap-4",children:[(0,a.jsx)(R.E,{label:"Access key ID",isReactForm:!1,children:(0,a.jsx)(_.I,{className:"input-mono",readOnly:!0,copy:!0,disabled:!0,value:null==h?void 0:h.access_key})}),(0,a.jsx)(R.E,{label:"Secret access key",isReactForm:!1,children:(0,a.jsx)(_.I,{className:"input-mono",readOnly:!0,copy:!0,disabled:!0,value:null==h?void 0:h.secret_key})})]}),(0,a.jsx)(V.cN,{children:(0,a.jsx)(k.z,{onClick:()=>{s(!1),o(!1)},children:"Done"})})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(V.fK,{children:[(0,a.jsx)(V.$N,{children:"Create new S3 access keys"}),(0,a.jsx)(V.Be,{children:"S3 access keys provide full access to all S3 operations across all buckets and bypass any existing RLS policies."})]}),(0,a.jsx)(V.P3,{}),(0,a.jsx)(F.l0,{...m,children:(0,a.jsxs)("form",{onSubmit:m.handleSubmit(j),children:[(0,a.jsx)(V.VO,{children:(0,a.jsx)(F.Wi,{name:"description",render:e=>{let{field:t}=e;return(0,a.jsx)(R.E,{label:"Description",children:(0,a.jsx)(_.I,{autoComplete:"off",placeholder:"My test key",type:"text",...m.register("description")})})}})}),(0,a.jsx)(V.cN,{children:(0,a.jsx)(k.z,{htmlType:"submit",loading:g,children:"Create access key"})})]})})]})})]})},P=async e=>{let{projectRef:t,id:s}=e;if(!t||!s)throw Error("projectRef and id are required");let{data:a,error:r}=await (0,v.IV)("/platform/storage/{ref}/credentials/{id}",{params:{path:{ref:t,id:s}}});return r&&"Failed to delete project storage credential"!==r.message&&(0,v.S3)(r),a},Q=e=>{let{visible:t,selectedCredential:s,onClose:r}=e,{ref:n}=(0,f.UO)(),{mutate:l,isLoading:i}=function(){let{onSuccess:e,onError:t,...s}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=(0,I.NL)();return(0,A.D)(e=>P(e),{async onSuccess(t,s,r){let{projectRef:n}=s;await a.invalidateQueries(N(n)),await (null==e?void 0:e(t,s,r))},async onError(e,s,a){void 0===t?T.Am.error("Failed to delete S3 access key: ".concat(e.message)):t(e,s,a)},...s})}({onSuccess:()=>{T.Am.success("Successfully revoked S3 access key"),r()}});return(0,a.jsx)(V.Vq,{open:t,children:(0,a.jsxs)(V.cZ,{size:"small",children:[(0,a.jsx)(V.fK,{children:(0,a.jsxs)(V.$N,{children:["Revoke credential ",(0,a.jsx)("code",{className:"text-sm",children:null==s?void 0:s.description})]})}),(0,a.jsx)(V.P3,{}),(0,a.jsx)(V.VO,{children:(0,a.jsx)(V.Be,{children:"This action is irreversible and requests made with these access keys will stop working."})}),(0,a.jsxs)(V.cN,{className:"flex justify-end gap-x-1",children:[(0,a.jsx)(k.z,{type:"outline",onClick:()=>r(),children:"Cancel"}),(0,a.jsx)(k.z,{type:"danger",loading:i,onClick:async()=>{s&&l({id:s.id,projectRef:n})},children:"Yes, revoke access keys"})]})]})})};var U=s(4301),W=s(34346),X=s(88070);function q(e,t){var s=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return s<0?-1:s>0?1:s}var B=s(78549),G=s(3536),Y=s(15998),K=s(34503);let H=e=>{let{description:t,id:s,created_at:r,access_key:n,onDeleteClick:l}=e,o=(0,S.Xo)(i.KA.STORAGE_ADMIN_WRITE,"*");return(0,a.jsxs)("tr",{className:"h-8 text-ellipsis group",children:[(0,a.jsx)("td",{children:(0,a.jsx)("span",{className:"text-foreground",children:t})}),(0,a.jsx)("td",{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-ellipsis font-mono cursor-default",children:n}),(0,a.jsx)("span",{className:"w-24 text-right opacity-0 group-hover:opacity-100 transition-opacity",children:(0,a.jsx)(Y.Z,{text:n,type:"default"})})]})}),(0,a.jsx)("td",{children:function(e){let t=function(e,t){(0,X.Z)(2,arguments);var s=(0,U.default)(e),a=(0,U.default)(t),r=q(s,a),n=Math.abs((0,W.default)(s,a));s.setDate(s.getDate()-r*n);var l=Number(q(s,a)===-r),i=r*(n-l);return 0===i?0:i}(new Date,new Date(e));return 0===t?"Today":1===t?"".concat(t," day ago"):"".concat(t," days ago")}(r)}),(0,a.jsx)("td",{className:"text-right",children:o&&(0,a.jsxs)(K.h_,{children:[(0,a.jsx)(K.$F,{asChild:!0,children:(0,a.jsx)(k.z,{icon:(0,a.jsx)(B.Z,{size:14,strokeWidth:1}),type:"text",className:"px-1.5 text-foreground-lighter hover:text-foreground"})}),(0,a.jsx)(K.AW,{className:"max-w-40",align:"end",children:(0,a.jsxs)(K.Xi,{className:"flex gap-1.5 ",onClick:e=>{e.preventDefault(),l(s)},children:[(0,a.jsx)(G.Z,{size:"14"}),"Revoke key"]})})]})})]})};var $=s(85642);let J=()=>{var e;let{ref:t}=(0,f.UO)(),s=(0,x.gY)(),{project:r,isLoading:n}=(0,x.d2)(),[l,c]=(0,u.useState)(!1),[y,v]=(0,u.useState)(!1),[N,b]=(0,u.useState)(),D=(0,S.Xo)(i.KA.STORAGE_ADMIN_WRITE,"*"),{data:Z}=(0,j.q)({projectRef:t}),{data:E,...F}=w({projectRef:t},{enabled:D}),I=(null==E?void 0:E.data)&&E.data.length>0,A=(0,$.Vp)(null!=t?t:"",Z);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(h.p,{title:"S3 Connection",description:"Connect to your bucket via the S3 protocol.",docsUrl:"https://supabase.com/docs/guides/storage/s3/authentication"}),n?(0,a.jsx)(C.A,{}):s?(0,a.jsxs)(g.Z,{className:"grid gap-4 p-4 !mb-0",children:[(0,a.jsx)(R.E,{layout:"horizontal",label:"Endpoint",isReactForm:!1,children:(0,a.jsx)(_.I,{readOnly:!0,copy:!0,disabled:!0,value:A})}),!n&&(0,a.jsx)(R.E,{layout:"horizontal",label:"Region",isReactForm:!1,children:(0,a.jsx)(_.I,{className:"input-mono",copy:!0,disabled:!0,value:null==r?void 0:r.region})})]}):(0,a.jsxs)(o.bZ,{variant:"warning",children:[(0,a.jsx)(z.aN,{}),(0,a.jsx)(o.Cd,{children:"Project is paused"}),(0,a.jsx)(o.X,{children:"To connect to your S3 bucket, you need to restore your project."}),(0,a.jsx)("div",{className:"mt-3 flex items-center space-x-2",children:(0,a.jsx)(k.z,{asChild:!0,type:"default",children:(0,a.jsx)(d(),{href:"/project/".concat(t),children:"Restore project"})})})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(h.p,{title:"S3 Access Keys",description:"Manage your access keys for this project.",actions:(0,a.jsx)(L,{visible:l,onOpenChange:c})}),D?n?(0,a.jsx)(C.A,{}):s?(0,a.jsx)(a.Fragment,{children:F.isLoading?(0,a.jsx)("div",{className:"p-4",children:(0,a.jsx)(C.A,{})}):(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsx)(m.Z,{head:[(0,a.jsx)(m.Z.th,{children:"Description"},""),(0,a.jsx)(m.Z.th,{children:"Access key ID"},""),(0,a.jsx)(m.Z.th,{children:"Created at"},""),(0,a.jsx)(m.Z.th,{},"actions")],body:I?null===(e=E.data)||void 0===e?void 0:e.map(e=>(0,a.jsx)(H,{created_at:e.created_at,access_key:e.access_key,description:e.description,id:e.id,onDeleteClick:()=>{b(e),v(!0)}},e.id)):(0,a.jsx)(m.Z.tr,{children:(0,a.jsxs)(m.Z.td,{colSpan:4,className:"!rounded-b-md overflow-hidden",children:[(0,a.jsx)("p",{className:"text-sm text-foreground",children:"No access keys created"}),(0,a.jsx)("p",{className:"text-sm text-foreground-light",children:"There are no access keys associated with your project yet"})]})})})})}):(0,a.jsxs)(o.bZ,{variant:"warning",children:[(0,a.jsx)(z.aN,{}),(0,a.jsx)(o.Cd,{children:"Can't fetch S3 access keys"}),(0,a.jsx)(o.X,{children:"To fetch your S3 access keys, you need to restore your project."}),(0,a.jsx)(o.X,{children:(0,a.jsx)(k.z,{asChild:!0,type:"default",className:"mt-3",children:(0,a.jsx)(d(),{href:"/project/".concat(t),children:"Restore project"})})})]}):(0,a.jsx)(p.Z,{resourceText:"view this project's S3 access keys"})]}),(0,a.jsx)(Q,{visible:y,selectedCredential:N,onClose:()=>{v(!1),b(void 0)}})]})},ee=()=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n._S,{children:(0,a.jsxs)(n.tU,{children:[(0,a.jsx)(n.q7,{children:"Storage Settings"}),(0,a.jsx)(n.FW,{children:"Configure your project's storage settings"})]})}),(0,a.jsxs)(n._S,{className:"flex flex-col gap-10",bottomPadding:!0,children:[(0,a.jsx)(l.cx,{}),(0,a.jsx)(J,{})]})]});ee.getLayout=e=>(0,a.jsx)(r.Z,{title:"Settings",children:e});var et=ee},40662:function(e,t,s){"use strict";function a(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}s.d(t,{Z:function(){return a}})},88070:function(e,t,s){"use strict";function a(e,t){if(t.length<e)throw TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}s.d(t,{Z:function(){return a}})},34346:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return l}});var a=s(40662),r=s(39825),n=s(88070);function l(e,t){(0,n.Z)(2,arguments);var s=(0,r.default)(e),l=(0,r.default)(t);return Math.round((s.getTime()-(0,a.Z)(s)-(l.getTime()-(0,a.Z)(l)))/864e5)}},39825:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return n}});var a=s(4301),r=s(88070);function n(e){(0,r.Z)(1,arguments);var t=(0,a.default)(e);return t.setHours(0,0,0,0),t}},4301:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return n}});var a=s(86522),r=s(88070);function n(e){(0,r.Z)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===(0,a.Z)(e)&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):(("string"==typeof e||"[object String]"===t)&&"undefined"!=typeof console&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(Error().stack)),new Date(NaN))}},29059:function(e,t,s){"use strict";s.d(t,{I:function(){return u}});var a=s(52322),r=s(94299),n=s(2784),l=s(54383),i=s(42070),o=s(32079),c=s(46318);function d(e){let{icon:t,className:s}=e;return(0,a.jsx)("div",{className:(0,l.cn)("absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-foreground-light",s),children:t})}let u=(0,n.forwardRef)((e,t)=>{let{copy:s,icon:u,reveal:f=!1,actions:x,onCopy:m,iconContainerClassName:h,containerClassName:p,...g}=e,[j,y]=(0,n.useState)("Copy"),[v,N]=(0,n.useState)(!0),b=(0,c.Z)("input"),w=[];return u&&w.push(b.with_icon),(0,a.jsxs)("div",{className:(0,l.cn)("relative",p),children:[(0,a.jsx)(i.I,{ref:t,...g,onCopy:m,value:f&&v?"**** **** **** ****":g.value,className:(0,l.cn)(...w,g.className)}),u&&(0,a.jsx)(d,{icon:u,className:h}),s||x?(0,a.jsxs)("div",{className:b.actions_container,children:[s&&!(f&&v)?(0,a.jsx)(o.z,{size:"tiny",type:"default",icon:(0,a.jsx)(r.Z,{size:16,className:"text-foreground-muted"}),onClick:()=>{var e,t;return e=g.value,void(null===(t=navigator.clipboard.writeText(e))||void 0===t||t.then(function(){y("Copied"),setTimeout(function(){y("Copy")},3e3),null==m||m()},function(){y("Failed to copy")}))},children:j}):null,f&&v?(0,a.jsx)(o.z,{size:"tiny",type:"default",onClick:function(){N(!1)},children:"Reveal"}):null,x&&x]}):null]})})},87668:function(e,t,s){"use strict";s.d(t,{E:function(){return N}});var a=s(52322),r=s(2784),n=s(22574),l=s(10929),i=s(54383),o=s(6112),c=s(75109),d=s(67914);let u=(0,l.j)("relative grid gap-2",{variants:{size:{tiny:"text-xs",small:"text-sm leading-4",medium:"text-sm",large:"text-base",xlarge:"text-base"},align:{left:"",right:""},responsive:{true:"",false:""},layout:{horizontal:"grid grid-cols-12",vertical:"flex flex-col gap-3",flex:"flex flex-row gap-3","flex-row-reverse":"flex flex-row gap-3 flex-row-reverse justify-between"},flex:{true:"",false:""}},compoundVariants:[{layout:"flex",align:"right",className:"justify-between"},{layout:"flex-row-reverse",align:"right",className:"justify-between"}],defaultVariants:{}}),f=(0,l.j)("transition-all duration-500 ease-in-out",{variants:{flex:{true:"",false:""},align:{left:"",right:""},layout:{horizontal:"flex flex-col gap-2 col-span-4",vertical:"flex flex-row gap-2 justify-between",flex:"flex flex-col gap-0","flex-row-reverse":"flex flex-col gap-2"},labelLayout:{horizontal:"",vertical:"","":""}},compoundVariants:[{flex:!0,align:"left",className:"order-2"},{flex:!0,align:"right",className:"order-1"},{layout:"vertical",labelLayout:void 0,flex:!1,className:"flex flex-row gap-2 justify-between"},{layout:"horizontal",className:"flex flex-col gap-2"}],defaultVariants:{}}),x=(0,l.j)("transition-all duration-500 ease-in-out",{variants:{flex:{true:"",false:""},align:{left:"order-1",right:"order-2"},layout:{horizontal:"",vertical:"",flex:"","flex-row-reverse":""}},compoundVariants:[{flex:!0,align:"left",className:"order-1"},{flex:!0,align:"right",className:"order-2"},{layout:"vertical",className:"col-span-12"},{layout:"horizontal",align:"left",className:"col-span-8"},{layout:"horizontal",align:"right",className:"text-right"}],defaultVariants:{}}),m=(0,l.j)("text-foreground-lighter leading-normal",{variants:{size:{...c.NO.text},layout:{vertical:"mt-2",horizontal:"mt-2",flex:"","flex-row-reverse":""}},defaultVariants:{}}),h=(0,l.j)("text-foreground-muted",{variants:{size:{...c.NO.text}},defaultVariants:{}}),p=(0,l.j)("text-foreground-muted",{variants:{size:{...c.NO.text}},defaultVariants:{}}),g=(0,l.j)("text-foreground-muted",{variants:{size:{...c.NO.text}},defaultVariants:{}}),j=(0,l.j)("",{variants:{flex:{true:"",false:""},align:{left:"",right:""}},compoundVariants:[{flex:!0,align:"left",className:""},{flex:!0,align:"right",className:"order-last"}]}),y=(0,l.j)("",{variants:{nonBoxInput:{true:"",false:""},label:{true:"",false:""},layout:{vertical:"",horizontal:"","flex-row-reverse":""}},compoundVariants:[{nonBoxInput:!0,label:!0,layout:"vertical",className:"my-3"},{nonBoxInput:!0,label:!0,layout:"horizontal",className:"my-3 md:mt-0 mb-3"}],defaultVariants:{}}),v=r.forwardRef((e,t)=>{let{align:s="left",className:r,description:l,id:c,label:v,labelOptional:N,layout:b="vertical",style:w,labelLayout:S,size:k="medium",beforeLabel:C,afterLabel:_,nonBoxInput:z=!v,hideMessage:R=!1,isReactForm:D,...Z}=e,E="flex"===b||"flex-row-reverse"===b,F=!!(v||C||_),I=D&&!R&&(0,a.jsx)(d.E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3,ease:"easeInOut"},className:"mt-2",children:(0,a.jsx)(n.zG,{className:"mt-2 transition-opacity duration-300 ease-in-out","data-formlayout-id":"message"})}),A=l&&D?(0,a.jsx)(n.pf,{className:(0,i.cn)(m({size:k,layout:b})),"data-formlayout-id":"description",id:c+"-description",children:l}):l?(0,a.jsx)("p",{className:(0,i.cn)(m({size:k,layout:b}),"text-sm text-foreground-light"),"data-formlayout-id":"description",children:l}):null,T=()=>(0,a.jsxs)(a.Fragment,{children:[C&&(0,a.jsx)("span",{className:(0,i.cn)(h({size:k})),id:c+"-before","data-formlayout-id":"beforeLabel",children:(0,a.jsx)("span",{children:C})}),(0,a.jsx)("span",{children:v}),_&&(0,a.jsx)("span",{className:(0,i.cn)(p({size:k})),id:c+"-after","data-formlayout-id":"afterLabel",children:_})]});return(0,a.jsxs)("div",{ref:t,...Z,className:(0,i.cn)(u({size:k,flex:E,align:s,layout:b}),r),children:[E&&(0,a.jsx)("div",{className:(0,i.cn)(j({flex:E,align:s})),children:Z.children}),F||N||"horizontal"===b?(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:(0,i.cn)(f({align:s,labelLayout:S,flex:E,layout:b})),"data-formlayout-id":"labelContainer",children:[F&&D?(0,a.jsx)(n.lX,{className:"flex gap-2 items-center break-all","data-formlayout-id":"formLabel",children:(0,a.jsx)(T,{})}):(0,a.jsx)(o._,{htmlFor:Z.name,"data-formlayout-id":"label",className:"flex gap-2 items-center break-all",children:(0,a.jsx)(T,{})}),N&&(0,a.jsx)("span",{className:(0,i.cn)(g({size:k})),id:c+"-optional","data-formlayout-id":"labelOptional",children:N}),E&&(0,a.jsxs)(a.Fragment,{children:[A,I]})]})}):null,!E&&(0,a.jsx)("div",{className:(0,i.cn)(x({align:s,layout:b})),style:w,"data-formlayout-id":"dataContainer",children:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:(0,i.cn)(y({nonBoxInput:z,label:v,layout:b})),"data-formlayout-id":"nonBoxInputContainer",children:Z.children}),I,A]})})]})}),N=(0,r.forwardRef)((e,t)=>{let{...s}=e;return(0,a.jsx)(n.xJ,{children:(0,a.jsx)(v,{ref:t,isReactForm:!0,...s,children:s.children})})});N.displayName="FormItemLayout"},86522:function(e,t,s){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}s.d(t,{Z:function(){return a}})}},function(e){e.O(0,[9774,667,8421,8183,6334,5746,1357,2474,5590,6128,6875,7280,2569,7914,5700,4801,9906,1823,5495,8507,9428,5029,4689,1326,8318,2888,179],function(){return e(e.s=40370)}),_N_E=e.O()}]);