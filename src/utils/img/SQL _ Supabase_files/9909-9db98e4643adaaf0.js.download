"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9909],{78619:function(e,t,r){var n=r(52322),i=r(24990),a=r(59491),s=r(85945),l=r(39097),o=r.n(l),c=r(5632),d=r(2784),u=r(56958),m=r(99959),p=r(27570),f=r(26198),h=r(92575),v=r(93463),x=r(72700),j=r(21914),g=r(69923),b=r(87175),y=r(89823),N=r(75939),_=r(62270),w=r(99248),C=r(52145),k=r(49251),S=r(32079),z=r(95492),Z=r(48869),P=r(1309),E=r(81076),R=r(37970),A=r(83690),I=r(17172),F=r(82137);t.Z=()=>{var e,t,r,l;let M=(0,s.NL)(),L=(0,c.useRouter)(),{ref:q}=(0,m.UO)(),{project:T}=(0,p.d2)(),U=(0,y.l)(),D=(0,N.P)("disableComputeSizeChanges"),[Y,G]=(0,d.useState)(!1),W=(0,b.Xo)(a.KA.BILLING_WRITE,"stripe.subscriptions"),Q=(0,p.gY)(),{panel:$,setPanel:O,closePanel:X}=(0,C.F)(),B="computeInstance"===$,{data:V}=(0,h.bN)({projectRef:q}),{data:H,isLoading:J}=(0,g.F)({projectRef:q}),{data:K}=(0,v.Gl)({orgSlug:null==U?void 0:U.slug}),{mutate:ee,isLoading:et}=(0,j.b)({onSuccess:()=>{u.Am.success("Successfully updated compute instance to ".concat(null==ev?void 0:ev.name,". Your project is currently being restarted to update its instance"),{duration:8e3}),(0,f.k7)(M,q,w.S.RESTORING),X(),L.push("/project/".concat(q))},onError:e=>{u.Am.error("Unable to update compute instance: ".concat(e.message))}}),{mutate:er,isLoading:en}=(0,x.t)({onSuccess:()=>{u.Am.success("Successfully updated compute instance. Your project is currently being restarted to update its instance",{duration:8e3}),(0,f.k7)(M,q,w.S.RESTORING),X(),L.push("/project/".concat(q))},onError:e=>{u.Am.error("Unable to update compute instance: ".concat(e.message))}}),[ei,ea]=(0,d.useState)(""),es=null==T?void 0:T.id,el=(0,_.p)(null==T?void 0:T.cloud_provider),eo=null!==(r=null==H?void 0:H.selected_addons)&&void 0!==r?r:[],ec=(0,d.useMemo)(()=>{var e;return null!==(e=null==H?void 0:H.available_addons)&&void 0!==e?e:[]},[H]),ed=(null==K?void 0:null===(e=K.plan)||void 0===e?void 0:e.id)==="free",eu=eo.find(e=>"compute_instance"===e.type),em=eo.find(e=>"pitr"===e.type),ep=(0,d.useMemo)(()=>{var e,t;return(null!==(t=null===(e=ec.find(e=>"compute_instance"===e.type))||void 0===e?void 0:e.variants)&&void 0!==t?t:[]).some(e=>"ci_micro"===e.identifier)},[ec]),ef=(0,d.useMemo)(()=>{var e,t;let r=null!==(t=null===(e=ec.find(e=>"compute_instance"===e.type))||void 0===e?void 0:e.variants.filter(e=>{if(!(null==T?void 0:T.cloud_provider))return!0;let t=e.meta;return!t.supported_cloud_providers||t.supported_cloud_providers.includes(T.cloud_provider)}))&&void 0!==t?t:[];return ep||r.unshift({identifier:"ci_micro",name:"Micro",price_description:"$0.01344/hour (~$10/month)",price:.01344,price_interval:"hourly",price_type:"usage",meta:{cpu_cores:w.v$.cpu_cores,cpu_dedicated:w.v$.cpu_dedicated,memory_gb:w.v$.memory_gb,baseline_disk_io_mbs:w.v$.baseline_disk_io_mbs,max_disk_io_mbs:w.v$.max_disk_io_mbs,connections_direct:w.v$.connections_direct,connections_pooler:w.v$.connections_pooler}}),r},[ec,ep]),eh=(0,d.useMemo)(()=>T?"nano"===T.infra_compute_size?"ci_nano":"ci_micro":"",[T]),ev=ef.find(e=>e.identifier===ei),ex=ei!==(null!==(l=null==eu?void 0:eu.variant.identifier)&&void 0!==l?l:eh),ej=(null!=V?V:[]).filter(e=>e.identifier!==q).length,eg=ej>0,eb=["ci_micro","ci_nano"].includes(ei),ey=void 0!==em&&eb&&ex,eN=ej>h.Zs&&["ci_micro","ci_small","ci_medium","ci_large"].includes(ei),e_=ex&&eg&&(eb||eN);(0,d.useEffect)(()=>{B&&(void 0!==eu?ea(eu.variant.identifier):ea(eh))},[B,J]);let ew=async()=>q?es?void(D&&u.Am.error("Compute size changes are currently disabled - our engineers are working on a fix."),ep||"ci_micro"!==ei||void 0===eu?ee({projectRef:q,type:"compute_instance",variant:ei}):er({projectRef:q,variant:eu.variant.identifier})):console.error("Project ID is required"):console.error("Project ref is required");return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(k.ZP,{size:"xxlarge",visible:B,onCancel:X,onConfirm:()=>G(!0),loading:J,disabled:ed||J||!ex||ey||e_||!W||!Q,tooltip:ed?"Unable to update compute instance on a Free Plan":Q?W?void 0:"You do not have permission to update compute instance":"Unable to update compute as project is currently not active",header:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("h4",{children:"Change project compute size"}),(0,n.jsx)(S.z,{asChild:!0,type:"default",icon:(0,n.jsx)(I.Z,{strokeWidth:1.5}),children:(0,n.jsx)(o(),{href:"https://supabase.com/docs/guides/platform/compute-add-ons",target:"_blank",rel:"noreferrer",children:"About compute sizes"})})]}),children:(0,n.jsx)(k.ZP.Content,{children:(0,n.jsxs)("div",{className:"py-6 space-y-4",children:[(null==T?void 0:T.infra_compute_size)==="nano"&&(null==K?void 0:K.plan.id)!=="free"&&(0,n.jsxs)(z.bZ,{variant:"default",children:[(0,n.jsx)(F.Z,{strokeWidth:2}),(0,n.jsx)(z.Cd,{children:"Free compute upgrade to Micro"}),(0,n.jsx)(z.X,{children:"Paid Plans include a free upgrade to Micro compute. Your project is ready to upgrade for no additional charges."})]}),(0,n.jsx)("p",{className:"text-sm",children:"For the database, compute size refers to the amount of CPU and memory allocated to the database instance."}),(0,n.jsxs)("div",{className:"pb-4",children:[ed&&(0,n.jsx)(Z.b,{withIcon:!0,className:"mb-4",variant:"info",title:"Changing your compute size is only available on the Pro Plan",actions:(0,n.jsx)(S.z,{asChild:!0,type:"default",children:(0,n.jsx)(o(),{href:"/org/".concat(null==U?void 0:U.slug,"/billing?panel=subscriptionPlan"),children:"View available plans"})}),children:"Upgrade your plan to change the compute size of your project"}),(0,n.jsx)(P.Z.Group,{type:"large-cards",size:"tiny",id:"compute-instance",label:(0,n.jsx)("p",{className:"text-sm",children:"Choose the compute size you want to use"}),onChange:e=>ea(e.target.value),children:ef.map(e=>{var t,r,a,s,l;return(0,n.jsx)(P.Z,{className:"col-span-3 !p-0",disabled:ed,name:"compute-instance",checked:ei===e.identifier,label:e.name,value:e.identifier,children:(0,n.jsxs)("div",{className:"w-full group",children:[(0,n.jsx)("div",{className:"border-b border-default px-4 py-2",children:(0,n.jsxs)("p",{className:"text-sm flex justify-between",children:[e.name," ",((null==eu?void 0:eu.variant.identifier)===e.identifier||!eu&&e.identifier==="ci_".concat(null==T?void 0:T.infra_compute_size))&&(0,n.jsx)(E.C,{children:"Current"}),(null==T?void 0:T.infra_compute_size)==="nano"&&"ci_micro"===e.identifier&&(0,n.jsx)(E.C,{children:"Free Upgrade"})]})}),(0,n.jsxs)("div",{className:"px-4 py-2",children:[(0,n.jsxs)("p",{className:"text-foreground-light",children:[null!==(s=null===(t=e.meta)||void 0===t?void 0:t.memory_gb)&&void 0!==s?s:0," GB memory"]}),(0,n.jsxs)("p",{className:"text-foreground-light",children:[null!==(l=null===(r=e.meta)||void 0===r?void 0:r.cpu_cores)&&void 0!==l?l:0,"-core ",el," CPU (",(null===(a=e.meta)||void 0===a?void 0:a.cpu_dedicated)?"Dedicated":"Shared",")"]}),(0,n.jsxs)("div",{className:"flex justify-between items-center mt-2",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,n.jsxs)("span",{className:"text-foreground text-sm",children:["$",e.price]}),(0,n.jsxs)("span",{className:"text-foreground-light translate-y-[1px]",children:[" ","/ ","monthly"===e.price_interval?"month":"hour"]})]}),"hourly"===e.price_interval&&(0,n.jsxs)(i.fC,{delayDuration:0,children:[(0,n.jsx)(i.xz,{children:(0,n.jsx)("div",{className:"flex items-center",children:(0,n.jsx)(F.Z,{size:14,strokeWidth:2,className:"hover:text-foreground-light"})})}),(0,n.jsx)(i.h_,{children:(0,n.jsxs)(i.VY,{side:"bottom",children:[(0,n.jsx)(i.Eh,{className:"radix-tooltip-arrow"}),(0,n.jsx)("div",{className:"rounded bg-alternative py-1 px-2 leading-none shadow border border-background",children:(0,n.jsx)("div",{className:"flex items-center space-x-1",children:(0,n.jsxs)("p",{className:"text-foreground text-sm",children:["$",Number(672*e.price).toFixed(0)," - $",Number(744*e.price).toFixed(0)," per month"]})})})]})})]})]})]})]})},e.identifier)})})]}),ex&&(0,n.jsxs)("p",{className:"text-sm text-foreground-light",children:["There are no immediate charges when changing compute. Compute Hours are a usage-based item and you're billed at the end of your billing cycle based on your compute usage. Read more about"," ",(0,n.jsx)(o(),{href:"https://supabase.com/docs/guides/platform/org-based-billing#billing-for-compute-compute-hours",target:"_blank",rel:"noreferrer",className:"underline",children:"Compute Billing"}),"."]}),ex&&!ey&&!e_&&(0,n.jsxs)(z.bZ,{children:[(0,n.jsx)(R.aN,{}),(0,n.jsx)(z.Cd,{children:"Your project will need to be restarted when changing its compute size"}),(0,n.jsx)(z.X,{children:"Your project will be unavailable for up to 2 minutes while the changes take place."}),eg&&(0,n.jsxs)(z.X,{children:["The compute sizes for ",(0,n.jsx)("span",{className:"text-foreground",children:"all read replicas"})," ","on your project will also be changed to the ",null==ev?void 0:ev.name," size as well."]})]}),e_?(0,n.jsxs)(z.bZ,{children:[(0,n.jsx)(R.aN,{}),(0,n.jsx)(z.Cd,{children:eN&&"ci_micro"!==ei?"Unable to downgrade as project has more than ".concat(h.Zs," read replicas"):"Unable to downgrade as project has active read replicas"}),(0,n.jsx)(z.X,{children:eN&&"ci_micro"!==ei?"You can only have up to ".concat(h.Zs," read replicas for compute sizes below XL, as such you will need to remove at least ").concat(ej-h.Zs," read replica").concat(ej-h.Zs>1?"s":""," before downgrading your compute."):"The minimum compute size for using read replicas is the Small Compute. You need to remove all read replicas before downgrading Compute as it requires at least a Small compute instance."}),(0,n.jsx)(z.X,{className:"mt-2",children:(0,n.jsx)(S.z,{asChild:!0,type:"default",children:(0,n.jsx)(o(),{href:"/project/".concat(q,"/settings/infrastructure"),onClick:X,children:"Manage read replicas"})})})]}):ey?(0,n.jsxs)(z.bZ,{children:[(0,n.jsx)(R.aN,{}),(0,n.jsx)(z.Cd,{children:"Disable PITR before downgrading"}),(0,n.jsx)(z.X,{children:"You currently have PITR enabled. The minimum compute size for using PITR is the Small Compute."}),(0,n.jsx)(z.X,{children:"You need to disable PITR before downgrading Compute as it requires at least a Small compute instance."}),(0,n.jsx)(z.X,{className:"mt-2",children:(0,n.jsx)(S.z,{type:"default",onClick:()=>O("pitr"),children:"Change PITR"})})]}):null,ex&&(null==K?void 0:K.billing_via_partner)&&(null===(t=K.scheduled_plan_change)||void 0===t?void 0:t.target_plan)!==void 0&&(0,n.jsxs)(z.bZ,{variant:"warning",className:"mb-2",children:[(0,n.jsx)(R.ku,{}),(0,n.jsx)(z.X,{children:"You have a scheduled subscription change that will be canceled if you change your compute size."})]})]})})}),(0,n.jsx)(A.Z,{size:"medium",alignFooter:"right",visible:Y,loading:et||en,onCancel:()=>G(!1),onConfirm:()=>ew(),header:"Confirm to upgrade compute instance now",children:(0,n.jsx)(A.Z.Content,{children:(0,n.jsx)(Z.b,{withIcon:!0,variant:"warning",title:"Your project will need to be restarted when changing its compute size",children:"Your project will be unavailable for up to 2 minutes while the changes take place."})})})]})}},79067:function(e,t,r){r.d(t,{Z:function(){return v}});var n=r(52322),i=r(5632),a=r(2784),s=r(99959),l=r(34056),o=r(40654),c=r(89823),d=r(26211),u=r(3373),m=r(99248),p=r(4689);let f=(e,t,r,n)=>{var i,a,s,l,o;let c=(null==t?void 0:t.status)===m.S.COMING_UP,d="/project/".concat(e),u=null===(i=null==n?void 0:n.auth)||void 0===i||i,p=null===(a=null==n?void 0:n.edgeFunctions)||void 0===a||a,f=null===(s=null==n?void 0:n.storage)||void 0===s||s,h=null!==(l=null==n?void 0:n.warehouse)&&void 0!==l&&l,v=null!==(o=null==n?void 0:n.logDrains)&&void 0!==o&&o;return[{title:"Project Settings",items:[{name:"General",key:"general",url:"/project/".concat(e,"/settings/general"),items:[]},{name:"Infrastructure",key:"infrastructure",url:c?d:"/project/".concat(e,"/settings/infrastructure"),items:[]},...m.Qy?[{name:"Integrations",key:"integrations",url:"/project/".concat(e,"/settings/integrations"),items:[]}]:[],{name:"Add Ons",key:"addons",url:"/project/".concat(e,"/settings/addons"),items:[]},{name:"Vault",key:"vault",url:c?d:"/project/".concat(e,"/settings/vault/secrets"),items:[],label:"BETA"}]},{title:"Configuration",items:[{name:"Database",key:"database",url:c?d:"/project/".concat(e,"/settings/database"),items:[]},{name:"API",key:"api",url:c?d:"/project/".concat(e,"/settings/api"),items:[]},...m.Qy&&u?[{name:"Authentication",key:"auth",url:c?d:"/project/".concat(e,"/settings/auth"),items:[]}]:[],...m.Qy&&f?[{name:"Storage",key:"storage",url:"/project/".concat(e,"/settings/storage"),items:[]}]:[],...m.Qy&&p?[{name:"Edge Functions",key:"functions",url:"/project/".concat(e,"/settings/functions"),items:[]}]:[],...m.Qy&&h?[{name:"Warehouse",key:"warehouse",url:"/project/".concat(e,"/settings/warehouse"),items:[]}]:[],...m.Qy&&v?[{name:"Log Drains",key:"log-drains",url:"/project/".concat(e,"/settings/log-drains"),items:[]}]:[]]},{title:"Billing",items:[{name:"Subscription",key:"subscription",url:"/org/".concat(null==r?void 0:r.slug,"/billing"),items:[]},{name:"Usage",key:"usage",url:"/org/".concat(null==r?void 0:r.slug,"/usage?projectRef=").concat(e),items:[]}]}]};var h=r(75939),v=(0,u.Q)(e=>{let{title:t,children:r}=e,u=(0,i.useRouter)(),{ref:v}=(0,s.UO)(),x=(0,d.V)(),j=(0,c.l)();(0,a.useEffect)(()=>{m.Qy||u.push("/project/default")},[u]);let g=u.pathname.includes("billing")?u.pathname.split("/")[5]:u.pathname.split("/")[4],{projectAuthAll:b,projectEdgeFunctionAll:y,projectStorageAll:N,billingInvoices:_}=(0,o.N)(["project_auth:all","project_edge_function:all","project_storage:all","billing:invoices"]),w=f(v,x,j,{auth:b,edgeFunctions:y,storage:N,invoices:_,warehouse:(0,h.P)("warehouse"),logDrains:(0,h.P)("logdrains")});return(0,n.jsx)(p.Z,{isBlocking:!1,title:t||"Settings",product:"Settings",productMenu:(0,n.jsx)(l.Q,{page:g,menu:w}),children:(0,n.jsx)("main",{style:{maxHeight:"100vh"},className:"flex-1 overflow-y-auto",children:r})})})},74178:function(e,t,r){r.d(t,{CG:function(){return f},FW:function(){return d},I7:function(){return m},Lc:function(){return v},Wv:function(){return j},_S:function(){return u},g$:function(){return h},gW:function(){return b},jX:function(){return p},q7:function(){return c},tM:function(){return x},tU:function(){return o},ur:function(){return g}});var n=r(52322),i=r(2784),a=r(54383);let s="mx-auto w-full max-w-[1200px]",l="px-6 lg:px-14 xl:px-24 2xl:px-32",o=i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,n.jsx)("header",{...i,ref:t,className:(0,a.cn)("w-full","flex-col gap-3 py-6",r)})}),c=i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,n.jsx)("h1",{ref:t,...i,className:(0,a.cn)("text-2xl",r)})}),d=i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,n.jsx)("span",{ref:t,...i,className:(0,a.cn)("text-sm text-foreground-light",r)})}),u=i.forwardRef((e,t)=>{let{className:r,bottomPadding:i,...o}=e;return(0,n.jsx)("div",{ref:t,...o,className:(0,a.cn)(s,l,i&&"pb-16",r)})}),m=i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,n.jsx)("div",{ref:t,...i,className:(0,a.cn)("w-full h-px bg-border",r)})}),p=i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,n.jsx)("div",{ref:t,...i,className:(0,a.cn)("flex flex-col gap-3 py-6","lg:grid md:grid-cols-12 lg:py-12",r)})}),f=i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,n.jsx)("div",{ref:t,...i,className:(0,a.cn)("flex flex-col gap-3","min-w-[420px]",r)})}),h=i.forwardRef((e,t)=>{let{className:r,children:i,title:s,...l}=e;return(0,n.jsxs)("div",{ref:t,...l,className:(0,a.cn)("col-span-4 xl:col-span-5 prose text-sm",r),children:[s&&(0,n.jsx)("h2",{children:s}),i]})}),v=i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,n.jsx)("div",{ref:t,...i,className:(0,a.cn)("col-span-8 xl:col-span-7","flex flex-col gap-6",r)})}),x=i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,n.jsx)("div",{ref:t,...i,className:(0,a.cn)("flex flex-col gap-3 items-center",r)})}),j=i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,n.jsx)("div",{ref:t,...i,className:(0,a.cn)("flex w-full items-center",r)})}),g=i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,n.jsx)("div",{ref:t,...i,className:(0,a.cn)("flex flex-row gap-3",r)})}),b=i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,n.jsx)("div",{ref:t,...i,className:(0,a.cn)(s,l,"my-8 flex flex-col gap-8",r)})});o.displayName="ScaffoldHeader",c.displayName="ScaffoldTitle",d.displayName="ScaffoldDescription",u.displayName="ScaffoldContainer",m.displayName="ScaffoldDivider",p.displayName="ScaffoldSection",f.displayName="ScaffoldColumn",h.displayName="ScaffoldSectionDetail",v.displayName="ScaffoldSectionContent",x.displayName="ScaffoldFilterAndContent",j.displayName="ScaffoldActionsContainer",g.displayName="ScaffoldActionsGroup",b.displayName="ScaffoldContainerLegacy"},34056:function(e,t,r){r.d(t,{Q:function(){return d}});var n=r(52322),i=r(3085),a=r(81076),s=r(39097),l=r.n(s),o=r(32079),c=e=>{let{name:t="",isActive:r,isExternal:s,icon:c,rightIcon:d,url:u="",target:m="_self",onClick:p,textClassName:f="",hoverText:h="",label:v}=e,x=(0,n.jsx)(i.ZP.Item,{icon:c,rounded:!0,active:r,onClick:p,children:(0,n.jsxs)("div",{className:"flex w-full items-center justify-between gap-1",children:[(0,n.jsxs)("div",{title:h||("string"==typeof t?t:""),className:"flex items-center gap-2 truncate w-full "+f,children:[(0,n.jsxs)("span",{className:"truncate",children:[t," "]}),void 0!==v&&(0,n.jsx)(a.C,{variant:"warning",children:v})]}),d&&(0,n.jsx)("div",{children:d})]})});return u?s?(0,n.jsx)(o.z,{asChild:!0,block:!0,className:"!justify-start",type:"text",size:"small",icon:c,children:(0,n.jsx)(l(),{href:u,target:"_blank",rel:"noreferrer",children:t})}):(0,n.jsx)(l(),{href:u,className:"block",target:m,children:x}):x},d=e=>{let{page:t,menu:r}=e;return(0,n.jsx)("div",{className:"flex flex-col space-y-8 overflow-y-auto",children:(0,n.jsx)(i.ZP,{type:"pills",children:r.map((e,s)=>(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"my-6 space-y-8",children:(0,n.jsxs)("div",{className:"mx-3",children:[(0,n.jsx)(i.ZP.Group,{title:e.title?(0,n.jsxs)("div",{className:"flex flex-col space-y-2 uppercase font-mono",children:[(0,n.jsx)("span",{children:e.title}),e.isPreview&&(0,n.jsx)(a.C,{variant:"warning",children:"Not production ready"})]}):null}),(0,n.jsx)("div",{children:e.items.map(e=>(0,n.jsx)(c,{url:e.url,name:e.name,icon:e.icon,rightIcon:e.rightIcon,isActive:t===e.key,isExternal:e.isExternal,target:e.isExternal?"_blank":"_self",label:e.label},e.key))})]})}),s!==r.length-1&&(0,n.jsx)("div",{className:"h-px w-full bg-border-overlay"})]},e.key||e.title))})})}},47701:function(e,t,r){r.d(t,{P:function(){return c}});var n=r(36492),i=r(28879),a=r.n(i),s=r(31696),l=r(64883);async function o(e,t){let{projectRef:r,attribute:n,startDate:i,endDate:a,interval:l="1d",databaseIdentifier:o}=e;if(!r)throw Error("Project ref is required");if(!n)throw Error("Attribute is required");if(!i)throw Error("Start date is required");if(!a)throw Error("End date is required");let{data:c,error:d}=await (0,s.U2)("/platform/projects/{ref}/infra-monitoring",{params:{path:{ref:r},query:{attribute:n,startDate:i,endDate:a,interval:l,databaseIdentifier:o}},signal:t});return d&&(0,s.S3)(d),c}let c=function(e){let{projectRef:t,attribute:r,startDate:i,endDate:s,interval:c="1d",dateFormat:d="DD MMM",databaseIdentifier:u,modifier:m}=e,{enabled:p=!0,...f}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,n.a)(l.d.infraMonitoring(t,{attribute:r,startDate:i,endDate:s,interval:c,databaseIdentifier:u}),e=>{let{signal:n}=e;return o({projectRef:t,attribute:r,startDate:i,endDate:s,interval:c,databaseIdentifier:u},n)},{enabled:p&&void 0!==t&&void 0!==r&&void 0!==i&&void 0!==s,select:e=>({...e,data:e.data.map(e=>({...e,[r]:void 0!==m?m(Number(e[r])):Number(e[r]),periodStartFormatted:a()(e.period_start).format(d)}))}),staleTime:6e4,...f})}},56302:function(e,t,r){r.d(t,{Z:function(){return n}});let n={list:e=>["project",e,"replicas"],statuses:e=>["project",e,"replicas-statuses"],loadBalancers:e=>["project",e,"load-balancers"]}},92575:function(e,t,r){r.d(t,{Zs:function(){return l},bN:function(){return d},l_:function(){return o}});var n=r(36492),i=r(99959),a=r(31696),s=r(56302);let l=2,o=5;async function c(e,t){let{projectRef:r}=e;if(!r)throw Error("Project ref is required");let{data:n,error:i}=await (0,a.U2)("/platform/projects/{ref}/databases",{params:{path:{ref:r}},signal:t});return i&&(0,a.S3)(i),n}let d=function(e){let{projectRef:t}=e,{enabled:r=!0,...a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,n.a)(s.Z.list(t),e=>{let{signal:r}=e;return c({projectRef:t},r)},{enabled:r&&i.Qy&&void 0!==t,...a})}},72700:function(e,t,r){r.d(t,{t:function(){return c}});var n=r(85945),i=r(48228),a=r(56958),s=r(31696),l=r(94896);async function o(e){let{projectRef:t,variant:r}=e;if(!t)throw Error("projectRef is required");if(!r)throw Error("variant is required");let{data:n,error:i}=await (0,s.IV)("/platform/projects/{ref}/billing/addons/{addon_variant}",{params:{path:{ref:t,addon_variant:r}}});return i&&(0,s.S3)(i),n}let c=function(){let{onSuccess:e,onError:t,...r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=(0,n.NL)();return(0,i.D)(e=>o(e),{async onSuccess(t,r,n){let{projectRef:i}=r;await s.invalidateQueries(l.U.addons(i)),await (null==e?void 0:e(t,r,n))},async onError(e,r,n){void 0===t?a.Am.error("Failed to remove addon: ".concat(e.message)):t(e,r,n)},...r})}},21914:function(e,t,r){r.d(t,{b:function(){return c}});var n=r(85945),i=r(48228),a=r(56958),s=r(31696),l=r(94896);async function o(e){let{projectRef:t,variant:r,type:n}=e;if(!t)throw Error("projectRef is required");if(!r)throw Error("variant is required");if(!n)throw Error("type is required");let{data:i,error:a}=await (0,s.v_)("/platform/projects/{ref}/billing/addons",{params:{path:{ref:t}},body:{addon_type:n,addon_variant:r}});return a&&(0,s.S3)(a),i}let c=function(){let{onSuccess:e,onError:t,...r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=(0,n.NL)();return(0,i.D)(e=>o(e),{async onSuccess(t,r,n){let{projectRef:i}=r;await s.invalidateQueries(l.U.addons(i)),await (null==e?void 0:e(t,r,n))},async onError(e,r,n){void 0===t?a.Am.error("Failed to update addon: ".concat(e.message)):t(e,r,n)},...r})}},58870:function(e,t,r){r.d(t,{x:function(){return a}});var n=r(5632),i=r(2784);function a(){let{replace:e=!0,arrayKeys:t=[]}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=JSON.stringify(t),a=(0,i.useMemo)(()=>new Set(t),[r]),s=(0,n.useRouter)(),l=(0,i.useMemo)(()=>Object.fromEntries(Object.entries(s.query).map(e=>{let[t,r]=e;return a.has(t)?Array.isArray(r)?[t,r]:[t,[r]]:[t,r]})),[a,s.query]),o=(0,i.useCallback)(t=>{let r="function"==typeof t?t(l):t,n=Object.fromEntries(Object.entries({...l,...r}).filter(e=>{let[,t]=e;return!!t}));(e?s.replace:s.push)({pathname:s.pathname,query:n},void 0,{shallow:!0,scroll:!1})},[s,l,e]);return[l,o]}},62270:function(e,t,r){r.d(t,{p:function(){return i}});var n=r(99248);function i(e){switch(e){case n.aA.AWS.id:return"ARM";case n.aA.FLY.id:return"x86 64-bit";default:return""}}},52145:function(e,t,r){r.d(t,{F:function(){return a}});var n=r(58870);let i=["computeInstance","pitr","customDomain","ipv4"];function a(){let[{panel:e},t]=(0,n.x)({replace:!0});return{panel:i.find(t=>t===e),setPanel:e=>{t({panel:e})},closePanel:()=>{t({panel:void 0})}}}},48869:function(e,t,r){r.d(t,{b:function(){return m}});var n=r(52322),i=r(2784),a=r(46318),s=r(85563),l=r(38187),o=r(67815),c=r(82137),d=r(8609);let u={danger:(0,n.jsx)(s.Z,{strokeWidth:1.5,size:18}),success:(0,n.jsx)(l.Z,{strokeWidth:1.5,size:18}),warning:(0,n.jsx)(o.Z,{strokeWidth:1.5,size:18}),info:(0,n.jsx)(c.Z,{strokeWidth:1.5,size:18}),neutral:(0,n.jsx)(n.Fragment,{})};function m(e){let{variant:t="neutral",className:r,title:s,withIcon:l,closable:o,children:c,icon:m,actions:p}=e,f=(0,a.Z)("alert"),[h,v]=(0,i.useState)(!0),x=[f.base];x.push(f.variant[t].base),r&&x.push(r);let j=[f.description,f.variant[t].description],g=[f.close];return(0,n.jsx)(n.Fragment,{children:h&&(0,n.jsxs)("div",{className:x.join(" "),children:[l?(0,n.jsx)("div",{className:f.variant[t].icon,children:l&&u[t]}):null,m&&m,(0,n.jsxs)("div",{className:"flex flex-1 items-center justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:[f.variant[t].header,f.header].join(" "),children:s}),(0,n.jsx)("div",{className:j.join(" "),children:c})]}),p]}),o&&(0,n.jsx)("button",{"aria-label":"Close alert",onClick:()=>v(!1),className:g.join(" "),children:(0,n.jsx)(d.Z,{strokeWidth:2,size:16})})]})})}},3085:function(e,t,r){r.d(t,{ZP:function(){return m}});var n=r(52322),i=r(2784),a=r(46318),s=r(54383);function l(e){let{children:t,className:r,tag:i="div",style:a}=e;return(0,n.jsx)("".concat(i),{style:a,children:t})}l.Title=function(e){let{className:t,level:r=1,children:i,style:a}=e;return(0,n.jsx)("h".concat(r),{style:a,children:i})},l.Text=function(e){let{className:t,children:r,style:i,type:a,disabled:s,mark:l,code:o,keyboard:c,underline:d,strikethrough:u,strong:m,small:p}=e;return o?(0,n.jsx)("code",{style:i,children:r}):l?(0,n.jsx)("mark",{style:i,children:r}):c?(0,n.jsx)("kbd",{style:i,children:r}):m?(0,n.jsx)("strong",{style:i,children:r}):(0,n.jsx)("span",{style:i,children:r})},l.Link=function(e){let{children:t,target:r="_blank",href:i,className:a,onClick:s,style:l}=e;return(0,n.jsx)("a",{onClick:s,href:i,target:r,rel:"noopener noreferrer",style:l,children:t})};let o=(0,i.createContext)({type:"text"}),c=e=>{let{type:t}=e;return(0,n.jsx)(o.Provider,{value:{type:t},children:e.children})},d=()=>{let e=(0,i.useContext)(o);if(void 0===e)throw Error("MenuContext must be used within a MenuContextProvider.");return e};function u(e){let{children:t,className:r,ulClassName:i,style:a,type:s="text"}=e;return(0,n.jsx)("nav",{role:"menu","aria-label":"Sidebar","aria-orientation":"vertical","aria-labelledby":"options-menu",className:r,style:a,children:(0,n.jsx)(c,{type:s,children:(0,n.jsx)("ul",{className:i,children:t})})})}u.Item=function(e){let{children:t,icon:r,active:i,rounded:l,onClick:o,doNotCloseOverlay:c=!1,showActiveBar:u=!1,style:m}=e,p=(0,a.Z)("menu"),{type:f}=d(),h=[p.item.base];h.push(p.item.variants[f].base),i?h.push(p.item.variants[f].active):h.push(p.item.variants[f].normal);let v=[p.item.content.base];i?v.push(p.item.content.active):v.push(p.item.content.normal);let x=[p.item.icon.base];return i?x.push(p.item.icon.active):x.push(p.item.icon.normal),(0,n.jsxs)("li",{role:"menuitem",className:(0,s.cn)("outline-none",h),style:m,onClick:o,"aria-current":i?"page":void 0,children:[r&&(0,n.jsx)("div",{className:"".concat(x.join(" ")," min-w-fit"),children:r}),(0,n.jsx)("span",{className:v.join(" "),children:t})]})},u.Group=function(e){let{children:t,icon:r,title:i}=e,s=(0,a.Z)("menu"),{type:l}=d();return(0,n.jsxs)("div",{className:[s.group.base,s.group.variants[l]].join(" "),children:[r&&(0,n.jsx)("span",{className:s.group.icon,children:r}),(0,n.jsx)("span",{className:s.group.content,children:i}),t]})},u.Misc=function(e){let{children:t}=e;return(0,n.jsx)("div",{children:(0,n.jsx)(l.Text,{children:(0,n.jsx)("span",{children:t})})})};var m=u},1309:function(e,t,r){r.d(t,{Z:function(){return d}});var n=r(52322),i=r(2784),a=r(25001),s=r(46318),l=r(70780);let o=(0,i.createContext)({parentCallback:e=>{},type:"",name:"",activeId:"",parentSize:""});function c(e){let{id:t=("00000"+(46656*Math.random()|0).toString(36)).slice(-3)+("00000"+(46656*Math.random()|0).toString(36)).slice(-3),disabled:r,value:i,label:a,afterLabel:c,beforeLabel:d,description:u,name:m,checked:p,className:f,onChange:h,onBlur:v,hidden:x=!1,size:j="medium",align:g="vertical",optionalLabel:b,addOnBefore:y,children:N}=e,_=(0,s.Z)("radio"),{handleBlur:w}=(0,l.G)();function C(e){w&&w(e),v&&v(e)}return(0,n.jsx)(o.Consumer,{children:e=>{let{parentCallback:s,type:l,name:o,activeId:v,parentSize:w}=e;j=w||j;let k=v===t||!!p||!1!==p&&void 0,S=[f,_.variants[l].container.base,"list"===l&&!x&&_.variants[l].container.size[j]];return S.push(_.variants[l].base),S.push(_.variants[l].size[j]),k?S.push(_.variants[l].active):S.push(_.variants[l].inactive),r&&S.push(_.disabled),"list"!==l&&(x=!0),(0,n.jsxs)("label",{htmlFor:t,className:S.join(" "),children:[(0,n.jsx)("input",{id:t,name:o||m,type:"radio",className:[_.base,_.size[j],x&&_.hidden,_.variants[l].radio_offset,""].join(" "),checked:k,disabled:r,value:i||t,onChange:e=>{s&&s(e),h&&h(e)},onBlur:C}),y,N||(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:[_.label.base,_.label[j],_.variants[l].container.align[g]].join(" "),children:[d&&(0,n.jsx)("div",{className:[_.label_before.base,_.label_before[j]].join(" "),children:d}),(0,n.jsx)("div",{children:a}),c&&(0,n.jsx)("div",{className:[_.label_after.base,_.label_after[j]].join(" "),children:c}),u&&(0,n.jsx)("div",{className:[_.description.base,_.description[j]].join(" "),children:u})]}),b&&(0,n.jsx)("div",{className:[_.optionalLabel.base,_.optionalLabel[j]].join(" "),children:b})]})]})}})}c.Group=function(e){let{id:t,layout:r,error:d,descriptionText:u,label:m,afterLabel:p,beforeLabel:f,labelOptional:h,children:v,className:x,type:j="list",options:g,value:b,name:y,onChange:N,size:_="medium",validation:w,groupClassName:C,labelsLayout:k="vertical"}=e,[S,z]=(0,i.useState)(""),Z=(0,s.Z)("radio"),{formContextOnChange:P,values:E,errors:R,touched:A,fieldLevelValidation:I}=(0,l.G)();return E&&!b&&(b=E[t||y]),d||(R&&!d&&(d=R[t||y]),d=A&&A[t||y]?d:void 0),(0,i.useEffect)(()=>{w&&I(t,w(b))},[]),(0,i.useEffect)(()=>{z(b)},[b]),(0,n.jsx)("fieldset",{name:y,className:x,children:(0,n.jsx)(a.l,{nonBoxInput:!0,label:m,afterLabel:p,beforeLabel:f,labelOptional:h,layout:r,id:t,error:d,descriptionText:u,size:_,labelLayout:k,children:(0,n.jsx)("div",{className:C||Z.variants[j].group,children:(0,n.jsx)(o.Provider,{value:{parentCallback:function(e){N&&N(e),P&&P(e),w&&I(t,w(e.target.value)),z(e.target.id)},type:j,name:y,activeId:S,parentSize:_},children:g?g.map(e=>(0,n.jsx)(c,{id:e.id,label:e.label,beforeLabel:e.beforeLabel,afterLabel:e.afterLabel,value:e.value,description:e.description})):v})})})})};var d=c}}]);